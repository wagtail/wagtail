{"version":3,"sources":["webpack://wagtail/webpack/runtime/chunk loaded","webpack://wagtail/./client/src/components/Explorer/Explorer.tsx","webpack://wagtail/./client/src/components/Explorer/ExplorerHeader.tsx","webpack://wagtail/./client/src/components/Explorer/ExplorerItem.tsx","webpack://wagtail/./client/src/components/Explorer/ExplorerPanel.tsx","webpack://wagtail/./client/src/components/Explorer/ExplorerToggle.tsx","webpack://wagtail/./client/src/components/Explorer/PageCount.tsx","webpack://wagtail/./client/src/components/Explorer/actions.ts","webpack://wagtail/./client/src/components/Explorer/index.tsx","webpack://wagtail/./client/src/components/Explorer/reducers/explorer.ts","webpack://wagtail/./client/src/components/Explorer/reducers/nodes.ts","webpack://wagtail/./client/src/entrypoints/admin/sidebar-legacy.js","webpack://wagtail/./client/src/includes/initSkipLink.js","webpack://wagtail/./client/src/includes/initSubmenus.js","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/compat get default export","webpack://wagtail/webpack/runtime/define property getters","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/make namespace object","webpack://wagtail/webpack/runtime/runtimeId","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["deferred","__createBinding","this","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","__importDefault","exports","react_1","react_redux_1","actions","ExplorerPanel_1","connect","state","isVisible","explorer","depth","currentPageId","nodes","dispatch","gotoPage","id","transition","onClose","closeExplorer","_a","createElement","page","wagtailConfig_1","Button_1","Icon_1","SelectLocale","locale","translations","options","wagtailConfig","LOCALES","filter","code","map","display_name","key","className","onChange","e","preventDefault","translation","target","disabled","length","onClick","isRoot","isSiteRoot","href","ADMIN_URLS","PAGES","name","admin_display_title","STRINGS","meta","size","PublicationStatus_1","childrenIcon","_b","item","title","hasChildren","children","count","isPublished","status","live","has_unpublished_changes","localeName","parent","LOCALE_NAMES","EDIT_PAGE","replace","VIEW_CHILD_PAGES_OF_PAGE","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","TypeError","String","__","constructor","focus_trap_react_1","LoadingSpinner_1","Transition_1","ExplorerHeader_1","ExplorerItem_1","PageCount_1","ExplorerPanel","_super","props","_this","PUSH","paused","onItemClick","bind","onHeaderClick","clickOutside","componentWillReceiveProps","newProps","isPush","setState","POP","componentDidMount","document","querySelector","classList","add","body","addEventListener","componentWillUnmount","remove","removeEventListener","toggle","contains","stopPropagation","renderChildren","isFetchingChildren","items","NO_RESULTS","isFetchingTranslations","isError","SERVER_ERROR","render","focusTrapOptions","initialFocus","onDeactivate","role","CLOSE_EXPLORER","component","label","PAGE_EXPLORER","MAX_EXPLORER_PAGES","Component","onToggle","toggleExplorer","_stateProps","dispatchProps","ownProps","startPage","dialogTrigger","SEE_ALL","PAGE","toLowerCase","admin","actions_1","getPageSuccess","createAction","data","getPageFailure","error","getChildrenStart","getChildrenSuccess","getChildrenFailure","getChildren","offset","getPageChildren","then","nbPages","total_count","getTranslationsStart","getTranslationsSuccess","getTranslationsFailure","getTranslations","getAllPageTranslations","onlyWithChildren","openExplorer","getState","getPage","gotoPagePrivate","__read","n","Symbol","iterator","r","i","ar","next","done","push","__spreadArray","to","from","il","j","initExplorer","ExplorerToggle","react_dom_1","redux_1","redux_thunk_1","Explorer_1","ExplorerToggle_1","explorer_1","nodes_1","explorerNode","toggleNode","rootReducer","combineReducers","middleware","store","createStore","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","func","parseInt","getAttribute","Provider","textContent","parentNode","GOTO_PAGE","OPEN_EXPLORER","defaultState","prevState","action","type","payload","GET_TRANSLATIONS_FAILURE","GET_CHILDREN_FAILURE","GET_PAGE_FAILURE","GET_TRANSLATIONS_SUCCESS","GET_TRANSLATIONS_START","GET_CHILDREN_SUCCESS","GET_CHILDREN_START","GET_PAGE_SUCCESS","defaultPageState","node","assign","slice","concat","translations_1","Map","forEach","set","_c","newState_1","initSubmenus_1","initSkipLink_1","initSubmenus","initSkipLink","skiplink","main","handleBlur","removeAttribute","setAttribute","focus","primaryNavContainer","subMenuTriggers","querySelectorAll","activeClass","subMenuTrigger","clickEvent","submenuContainer","sm","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","getter","a","definition","g","globalThis","Function","obj","prop","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"mappings":"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","file":"wagtail/admin/static/wagtailadmin/js/sidebar-legacy.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_redux_1 = require(\"react-redux\");\nvar actions = __importStar(require(\"./actions\"));\nvar ExplorerPanel_1 = __importDefault(require(\"./ExplorerPanel\"));\nvar Explorer = function (_a) {\n    var isVisible = _a.isVisible, depth = _a.depth, currentPageId = _a.currentPageId, nodes = _a.nodes, gotoPage = _a.gotoPage, onClose = _a.onClose;\n    return ((isVisible && currentPageId) ? (react_1[\"default\"].createElement(ExplorerPanel_1[\"default\"], { depth: depth, page: nodes[currentPageId], nodes: nodes, gotoPage: gotoPage, onClose: onClose })) : null);\n};\nvar mapStateToProps = function (state) { return ({\n    isVisible: state.explorer.isVisible,\n    depth: state.explorer.depth,\n    currentPageId: state.explorer.currentPageId,\n    nodes: state.nodes,\n}); };\nvar mapDispatchToProps = function (dispatch) { return ({\n    gotoPage: function (id, transition) { return dispatch(actions.gotoPage(id, transition)); },\n    onClose: function () { return dispatch(actions.closeExplorer()); },\n}); };\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, mapDispatchToProps)(Explorer);\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Button_1 = __importDefault(require(\"../../components/Button/Button\"));\nvar Icon_1 = __importDefault(require(\"../../components/Icon/Icon\"));\nvar SelectLocale = function (_a) {\n    var locale = _a.locale, translations = _a.translations, gotoPage = _a.gotoPage;\n    var options = wagtailConfig.LOCALES\n        .filter(function (_a) {\n        var code = _a.code;\n        return code === locale || translations.get(code);\n    })\n        /* eslint-disable-next-line camelcase */\n        .map(function (_a) {\n        var code = _a.code, display_name = _a.display_name;\n        return react_1[\"default\"].createElement(\"option\", { key: code, value: code }, display_name);\n    });\n    var onChange = function (e) {\n        e.preventDefault();\n        var translation = translations.get(e.target.value);\n        if (translation) {\n            gotoPage(translation, 0);\n        }\n    };\n    return (react_1[\"default\"].createElement(\"div\", { className: \"c-explorer__header__select\" },\n        react_1[\"default\"].createElement(\"select\", { value: locale, onChange: onChange, disabled: options.length < 2 }, options),\n        react_1[\"default\"].createElement(\"span\", null)));\n};\n/**\n * The bar at the top of the explorer, displaying the current level\n * and allowing access back to the parent level.\n */\nvar ExplorerHeader = function (_a) {\n    var page = _a.page, depth = _a.depth, onClick = _a.onClick, gotoPage = _a.gotoPage;\n    var isRoot = depth === 0;\n    var isSiteRoot = page.id === 0;\n    return (react_1[\"default\"].createElement(\"div\", { className: \"c-explorer__header\" },\n        react_1[\"default\"].createElement(Button_1[\"default\"], { href: !isSiteRoot ? \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + page.id + \"/\" : wagtailConfig_1.ADMIN_URLS.PAGES, className: \"c-explorer__header__title\", onClick: onClick },\n            react_1[\"default\"].createElement(\"div\", { className: \"c-explorer__header__title__inner\" },\n                react_1[\"default\"].createElement(Icon_1[\"default\"], { name: isRoot ? 'home' : 'arrow-left', className: \"icon--explorer-header\" }),\n                react_1[\"default\"].createElement(\"span\", null, page.admin_display_title || wagtailConfig_1.STRINGS.PAGES))),\n        !isSiteRoot && page.meta.locale &&\n            page.translations &&\n            page.translations.size > 0 &&\n            react_1[\"default\"].createElement(SelectLocale, { locale: page.meta.locale, translations: page.translations, gotoPage: gotoPage })));\n};\nexports[\"default\"] = ExplorerHeader;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Icon_1 = __importDefault(require(\"../../components/Icon/Icon\"));\nvar Button_1 = __importDefault(require(\"../../components/Button/Button\"));\nvar PublicationStatus_1 = __importDefault(require(\"../../components/PublicationStatus/PublicationStatus\"));\n// Hoist icons in the explorer item, as it is re-rendered many times.\nvar childrenIcon = (react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"folder-inverse\", className: \"icon--menuitem\" }));\n/**\n * One menu item in the page explorer, with different available actions\n * and information depending on the metadata of the page.\n */\nvar ExplorerItem = function (_a) {\n    var _b;\n    var item = _a.item, onClick = _a.onClick;\n    var id = item.id, title = item.admin_display_title, meta = item.meta;\n    var hasChildren = meta.children.count > 0;\n    var isPublished = meta.status.live && !meta.status.has_unpublished_changes;\n    var localeName = ((_b = meta.parent) === null || _b === void 0 ? void 0 : _b.id) === 1 && meta.locale && (wagtailConfig_1.LOCALE_NAMES.get(meta.locale) || meta.locale);\n    return (react_1[\"default\"].createElement(\"div\", { className: \"c-explorer__item\" },\n        react_1[\"default\"].createElement(Button_1[\"default\"], { href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + id + \"/\", className: \"c-explorer__item__link\" },\n            hasChildren ? childrenIcon : null,\n            react_1[\"default\"].createElement(\"h3\", { className: \"c-explorer__item__title\" }, title),\n            (!isPublished || localeName) &&\n                react_1[\"default\"].createElement(\"span\", { className: \"c-explorer__meta\" },\n                    localeName && react_1[\"default\"].createElement(\"span\", { className: \"o-pill c-status\" }, localeName),\n                    !isPublished && react_1[\"default\"].createElement(PublicationStatus_1[\"default\"], { status: meta.status }))),\n        react_1[\"default\"].createElement(Button_1[\"default\"], { href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + id + \"/edit/\", className: \"c-explorer__item__action c-explorer__item__action--small\" },\n            react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"edit\", title: wagtailConfig_1.STRINGS.EDIT_PAGE.replace('{title}', title), className: \"icon--item-action\" })),\n        hasChildren ? (react_1[\"default\"].createElement(Button_1[\"default\"], { className: \"c-explorer__item__action\", onClick: onClick, href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + id + \"/\" },\n            react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"arrow-right\", title: wagtailConfig_1.STRINGS.VIEW_CHILD_PAGES_OF_PAGE.replace('{title}', title), className: \"icon--item-action\" }))) : null));\n};\nexports[\"default\"] = ExplorerItem;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar focus_trap_react_1 = __importDefault(require(\"focus-trap-react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Button_1 = __importDefault(require(\"../Button/Button\"));\nvar LoadingSpinner_1 = __importDefault(require(\"../LoadingSpinner/LoadingSpinner\"));\nvar Transition_1 = __importStar(require(\"../Transition/Transition\"));\nvar ExplorerHeader_1 = __importDefault(require(\"./ExplorerHeader\"));\nvar ExplorerItem_1 = __importDefault(require(\"./ExplorerItem\"));\nvar PageCount_1 = __importDefault(require(\"./PageCount\"));\n/**\n * The main panel of the page explorer menu, with heading,\n * menu items, and special states.\n */\nvar ExplorerPanel = /** @class */ (function (_super) {\n    __extends(ExplorerPanel, _super);\n    function ExplorerPanel(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            transition: Transition_1.PUSH,\n            paused: false,\n        };\n        _this.onItemClick = _this.onItemClick.bind(_this);\n        _this.onHeaderClick = _this.onHeaderClick.bind(_this);\n        _this.clickOutside = _this.clickOutside.bind(_this);\n        return _this;\n    }\n    ExplorerPanel.prototype.componentWillReceiveProps = function (newProps) {\n        var depth = this.props.depth;\n        var isPush = newProps.depth > depth;\n        this.setState({\n            transition: isPush ? Transition_1.PUSH : Transition_1.POP,\n        });\n    };\n    ExplorerPanel.prototype.componentDidMount = function () {\n        var _a;\n        (_a = document.querySelector('[data-explorer-menu-item]')) === null || _a === void 0 ? void 0 : _a.classList.add('submenu-active');\n        document.body.classList.add('explorer-open');\n        document.addEventListener('mousedown', this.clickOutside);\n        document.addEventListener('touchend', this.clickOutside);\n    };\n    ExplorerPanel.prototype.componentWillUnmount = function () {\n        var _a;\n        (_a = document.querySelector('[data-explorer-menu-item]')) === null || _a === void 0 ? void 0 : _a.classList.remove('submenu-active');\n        document.body.classList.remove('explorer-open');\n        document.removeEventListener('mousedown', this.clickOutside);\n        document.removeEventListener('touchend', this.clickOutside);\n    };\n    ExplorerPanel.prototype.clickOutside = function (e) {\n        var onClose = this.props.onClose;\n        var explorer = document.querySelector('[data-explorer-menu]');\n        var toggle = document.querySelector('[data-explorer-menu-item]');\n        if (!explorer || !toggle) {\n            return;\n        }\n        var isInside = explorer.contains(e.target) || toggle.contains(e.target);\n        if (!isInside) {\n            onClose();\n        }\n        if (toggle.contains(e.target)) {\n            this.setState({\n                paused: true,\n            });\n        }\n    };\n    ExplorerPanel.prototype.onItemClick = function (id, e) {\n        var gotoPage = this.props.gotoPage;\n        e.preventDefault();\n        e.stopPropagation();\n        gotoPage(id, 1);\n    };\n    ExplorerPanel.prototype.onHeaderClick = function (e) {\n        var _a;\n        var _b = this.props, page = _b.page, depth = _b.depth, gotoPage = _b.gotoPage;\n        var parent = (_a = page.meta.parent) === null || _a === void 0 ? void 0 : _a.id;\n        // Note: Checking depth as well in case the user started deep in the tree\n        if (depth > 0 && parent) {\n            e.preventDefault();\n            e.stopPropagation();\n            gotoPage(parent, -1);\n        }\n    };\n    ExplorerPanel.prototype.renderChildren = function () {\n        var _this = this;\n        var _a = this.props, page = _a.page, nodes = _a.nodes;\n        var children;\n        if (!page.isFetchingChildren && !page.children.items) {\n            children = (react_1[\"default\"].createElement(\"div\", { key: \"empty\", className: \"c-explorer__placeholder\" }, wagtailConfig_1.STRINGS.NO_RESULTS));\n        }\n        else {\n            children = (react_1[\"default\"].createElement(\"div\", { key: \"children\" }, page.children.items.map(function (id) { return (react_1[\"default\"].createElement(ExplorerItem_1[\"default\"], { key: id, item: nodes[id], onClick: _this.onItemClick.bind(null, id) })); })));\n        }\n        return (react_1[\"default\"].createElement(\"div\", { className: \"c-explorer__drawer\" },\n            children,\n            page.isFetchingChildren || page.isFetchingTranslations ? (react_1[\"default\"].createElement(\"div\", { key: \"fetching\", className: \"c-explorer__placeholder\" },\n                react_1[\"default\"].createElement(LoadingSpinner_1[\"default\"], null))) : null,\n            page.isError ? (react_1[\"default\"].createElement(\"div\", { key: \"error\", className: \"c-explorer__placeholder\" }, wagtailConfig_1.STRINGS.SERVER_ERROR)) : null));\n    };\n    ExplorerPanel.prototype.render = function () {\n        var _a = this.props, page = _a.page, onClose = _a.onClose, depth = _a.depth, gotoPage = _a.gotoPage;\n        var _b = this.state, transition = _b.transition, paused = _b.paused;\n        return (react_1[\"default\"].createElement(focus_trap_react_1[\"default\"], { paused: paused || !page || page.isFetchingChildren || page.isFetchingTranslations, focusTrapOptions: {\n                initialFocus: '.c-explorer__header__title',\n                onDeactivate: onClose,\n            } },\n            react_1[\"default\"].createElement(\"div\", { role: \"dialog\", className: \"explorer\" },\n                react_1[\"default\"].createElement(Button_1[\"default\"], { className: \"c-explorer__close\" }, wagtailConfig_1.STRINGS.CLOSE_EXPLORER),\n                react_1[\"default\"].createElement(Transition_1[\"default\"], { name: transition, className: \"c-explorer\", component: \"nav\", label: wagtailConfig_1.STRINGS.PAGE_EXPLORER },\n                    react_1[\"default\"].createElement(\"div\", { key: depth, className: \"c-transition-group\" },\n                        react_1[\"default\"].createElement(ExplorerHeader_1[\"default\"], { depth: depth, page: page, onClick: this.onHeaderClick, gotoPage: gotoPage }),\n                        this.renderChildren(),\n                        page.isError || page.children.items && page.children.count > wagtailConfig_1.MAX_EXPLORER_PAGES ? (react_1[\"default\"].createElement(PageCount_1[\"default\"], { page: page })) : null)))));\n    };\n    return ExplorerPanel;\n}(react_1[\"default\"].Component));\nexports[\"default\"] = ExplorerPanel;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_redux_1 = require(\"react-redux\");\nvar actions = __importStar(require(\"./actions\"));\nvar Button_1 = __importDefault(require(\"../../components/Button/Button\"));\nvar Icon_1 = __importDefault(require(\"../../components/Icon/Icon\"));\n/**\n * A Button which toggles the explorer.\n */\nvar ExplorerToggle = function (_a) {\n    var children = _a.children, onToggle = _a.onToggle;\n    return (react_1[\"default\"].createElement(Button_1[\"default\"], { dialogTrigger: true, onClick: onToggle },\n        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"folder-open-inverse\", className: \"icon--menuitem\" }),\n        children,\n        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"arrow-right\", className: \"icon--submenu-trigger\" })));\n};\nvar mapStateToProps = function () { return ({}); };\nvar mapDispatchToProps = function (dispatch) { return ({\n    onToggle: function (page) { return dispatch(actions.toggleExplorer(page)); },\n}); };\nvar mergeProps = function (_stateProps, dispatchProps, ownProps) { return ({\n    children: ownProps.children,\n    onToggle: dispatchProps.onToggle.bind(null, ownProps.startPage),\n}); };\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, mapDispatchToProps, mergeProps)(ExplorerToggle);\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar Icon_1 = __importDefault(require(\"../Icon/Icon\"));\nvar PageCount = function (_a) {\n    var page = _a.page;\n    var count = page.children.count;\n    return (react_1[\"default\"].createElement(\"a\", { href: \"\" + wagtailConfig_1.ADMIN_URLS.PAGES + page.id + \"/\", className: \"c-explorer__see-more\" },\n        wagtailConfig_1.STRINGS.SEE_ALL,\n        react_1[\"default\"].createElement(\"span\", null, \" \" + count + \" \" + (count === 1 ? wagtailConfig_1.STRINGS.PAGE.toLowerCase() : wagtailConfig_1.STRINGS.PAGES.toLowerCase())),\n        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"arrow-right\" })));\n};\nexports[\"default\"] = PageCount;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nexports.__esModule = true;\nexports.gotoPage = exports.toggleExplorer = exports.closeExplorer = void 0;\nvar admin = __importStar(require(\"../../api/admin\"));\nvar actions_1 = require(\"../../utils/actions\");\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar getPageSuccess = actions_1.createAction('GET_PAGE_SUCCESS', function (id, data) { return ({ id: id, data: data }); });\nvar getPageFailure = actions_1.createAction('GET_PAGE_FAILURE', function (id, error) { return ({ id: id, error: error }); });\n/**\n * Gets a page from the API.\n */\nfunction getPage(id) {\n    return function (dispatch) { return admin.getPage(id).then(function (data) {\n        dispatch(getPageSuccess(id, data));\n    }, function (error) {\n        dispatch(getPageFailure(id, error));\n    }); };\n}\nvar getChildrenStart = actions_1.createAction('GET_CHILDREN_START', function (id) { return ({ id: id }); });\nvar getChildrenSuccess = actions_1.createAction('GET_CHILDREN_SUCCESS', function (id, items, meta) { return ({ id: id, items: items, meta: meta }); });\nvar getChildrenFailure = actions_1.createAction('GET_CHILDREN_FAILURE', function (id, error) { return ({ id: id, error: error }); });\n/**\n * Gets the children of a node from the API.\n */\nfunction getChildren(id, offset) {\n    if (offset === void 0) { offset = 0; }\n    return function (dispatch) {\n        dispatch(getChildrenStart(id));\n        return admin.getPageChildren(id, {\n            offset: offset,\n        }).then(function (_a) {\n            var items = _a.items, meta = _a.meta;\n            var nbPages = offset + items.length;\n            dispatch(getChildrenSuccess(id, items, meta));\n            // Load more pages if necessary. Only one request is created even though\n            // more might be needed, thus naturally throttling the loading.\n            if (nbPages < meta.total_count && nbPages < wagtailConfig_1.MAX_EXPLORER_PAGES) {\n                dispatch(getChildren(id, nbPages));\n            }\n        }, function (error) {\n            dispatch(getChildrenFailure(id, error));\n        });\n    };\n}\nvar getTranslationsStart = actions_1.createAction('GET_TRANSLATIONS_START', function (id) { return ({ id: id }); });\nvar getTranslationsSuccess = actions_1.createAction('GET_TRANSLATIONS_SUCCESS', function (id, items) { return ({ id: id, items: items }); });\nvar getTranslationsFailure = actions_1.createAction('GET_TRANSLATIONS_FAILURE', function (id, error) { return ({ id: id, error: error }); });\n/**\n * Gets the translations of a node from the API.\n */\nfunction getTranslations(id) {\n    return function (dispatch) {\n        dispatch(getTranslationsStart(id));\n        return admin.getAllPageTranslations(id, { onlyWithChildren: true }).then(function (items) {\n            dispatch(getTranslationsSuccess(id, items));\n        }, function (error) {\n            dispatch(getTranslationsFailure(id, error));\n        });\n    };\n}\nvar openExplorer = actions_1.createAction('OPEN_EXPLORER', function (id) { return ({ id: id }); });\nexports.closeExplorer = actions_1.createAction('CLOSE_EXPLORER');\nfunction toggleExplorer(id) {\n    return function (dispatch, getState) {\n        var _a = getState(), explorer = _a.explorer, nodes = _a.nodes;\n        if (explorer.isVisible) {\n            dispatch(exports.closeExplorer());\n        }\n        else {\n            var page = nodes[id];\n            dispatch(openExplorer(id));\n            if (!page) {\n                dispatch(getChildren(id));\n                if (id !== 1) {\n                    dispatch(getTranslations(id));\n                }\n            }\n            // We need to get the title of the starting page, only if it is not the site's root.\n            var isNotRoot = id !== 1;\n            if (isNotRoot) {\n                dispatch(getPage(id));\n            }\n        }\n    };\n}\nexports.toggleExplorer = toggleExplorer;\nvar gotoPagePrivate = actions_1.createAction('GOTO_PAGE', function (id, transition) { return ({ id: id, transition: transition }); });\nfunction gotoPage(id, transition) {\n    return function (dispatch, getState) {\n        var nodes = getState().nodes;\n        var page = nodes[id];\n        dispatch(gotoPagePrivate(id, transition));\n        if (page && !page.isFetchingChildren && !(page.children.count > 0)) {\n            dispatch(getChildren(id));\n        }\n        if (page && !page.isFetchingTranslations && page.translations == null) {\n            dispatch(getTranslations(id));\n        }\n    };\n}\nexports.gotoPage = gotoPage;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.initExplorer = exports.ExplorerToggle = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nvar react_redux_1 = require(\"react-redux\");\nvar redux_1 = require(\"redux\");\nvar redux_thunk_1 = __importDefault(require(\"redux-thunk\"));\n// import { perfMiddleware } from '../../utils/performance';\nvar Explorer_1 = __importDefault(require(\"./Explorer\"));\nvar ExplorerToggle_1 = __importDefault(require(\"./ExplorerToggle\"));\nexports.ExplorerToggle = ExplorerToggle_1[\"default\"];\nvar explorer_1 = __importDefault(require(\"./reducers/explorer\"));\nvar nodes_1 = __importDefault(require(\"./reducers/nodes\"));\n/**\n * Initialises the explorer component on the given nodes.\n */\nvar initExplorer = function (explorerNode, toggleNode) {\n    var rootReducer = redux_1.combineReducers({\n        explorer: explorer_1[\"default\"],\n        nodes: nodes_1[\"default\"],\n    });\n    var middleware = [\n        redux_thunk_1[\"default\"],\n    ];\n    // Uncomment this to use performance measurements.\n    // if (process.env.NODE_ENV !== 'production') {\n    //   middleware.push(perfMiddleware);\n    // }\n    var store = redux_1.createStore(rootReducer, {}, redux_1.compose(redux_1.applyMiddleware.apply(void 0, __spreadArray([], __read(middleware))), \n    // Expose store to Redux DevTools extension.\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : function (func) { return func; }));\n    var startPage = parseInt(toggleNode.getAttribute('data-explorer-start-page'), 10);\n    react_dom_1[\"default\"].render((react_1[\"default\"].createElement(react_redux_1.Provider, { store: store },\n        react_1[\"default\"].createElement(ExplorerToggle_1[\"default\"], { startPage: startPage }, toggleNode.textContent))), toggleNode.parentNode);\n    react_dom_1[\"default\"].render((react_1[\"default\"].createElement(react_redux_1.Provider, { store: store },\n        react_1[\"default\"].createElement(Explorer_1[\"default\"], null))), explorerNode);\n};\nexports.initExplorer = initExplorer;\nexports[\"default\"] = Explorer_1[\"default\"];\n","\"use strict\";\nexports.__esModule = true;\nexports.GOTO_PAGE = exports.CLOSE_EXPLORER = exports.OPEN_EXPLORER = void 0;\nvar defaultState = {\n    isVisible: false,\n    depth: 0,\n    currentPageId: null,\n};\nexports.OPEN_EXPLORER = 'OPEN_EXPLORER';\nexports.CLOSE_EXPLORER = 'CLOSE_EXPLORER';\nexports.GOTO_PAGE = 'GOTO_PAGE';\n/**\n * Oversees the state of the explorer. Defines:\n * - Where in the page tree the explorer is at.\n * - Whether the explorer is open or not.\n */\nfunction explorer(prevState, action) {\n    if (prevState === void 0) { prevState = defaultState; }\n    switch (action.type) {\n        case exports.OPEN_EXPLORER:\n            // Provide a starting page when opening the explorer.\n            return {\n                isVisible: true,\n                depth: 0,\n                currentPageId: action.payload.id,\n            };\n        case exports.CLOSE_EXPLORER:\n            return defaultState;\n        case exports.GOTO_PAGE:\n            return {\n                isVisible: prevState.isVisible,\n                depth: prevState.depth + action.payload.transition,\n                currentPageId: action.payload.id,\n            };\n        default:\n            return prevState;\n    }\n}\nexports[\"default\"] = explorer;\n","\"use strict\";\nexports.__esModule = true;\nexports.GET_TRANSLATIONS_FAILURE = exports.GET_CHILDREN_FAILURE = exports.GET_PAGE_FAILURE = exports.GET_TRANSLATIONS_SUCCESS = exports.GET_TRANSLATIONS_START = exports.GET_CHILDREN_SUCCESS = exports.GET_CHILDREN_START = exports.GET_PAGE_SUCCESS = void 0;\nvar explorer_1 = require(\"./explorer\");\nvar defaultPageState = {\n    id: 0,\n    isFetchingChildren: false,\n    isFetchingTranslations: false,\n    isError: false,\n    children: {\n        items: [],\n        count: 0,\n    },\n    meta: {\n        status: {\n            status: '',\n            live: false,\n            has_unpublished_changes: true\n        },\n        parent: null,\n        children: {},\n    },\n};\nexports.GET_PAGE_SUCCESS = 'GET_PAGE_SUCCESS';\nexports.GET_CHILDREN_START = 'GET_CHILDREN_START';\nexports.GET_CHILDREN_SUCCESS = 'GET_CHILDREN_SUCCESS';\nexports.GET_TRANSLATIONS_START = 'GET_TRANSLATIONS_START';\nexports.GET_TRANSLATIONS_SUCCESS = 'GET_TRANSLATIONS_SUCCESS';\nexports.GET_PAGE_FAILURE = 'GET_PAGE_FAILURE';\nexports.GET_CHILDREN_FAILURE = 'GET_CHILDREN_FAILURE';\nexports.GET_TRANSLATIONS_FAILURE = 'GET_TRANSLATIONS_FAILURE';\n/**\n * A single page node in the explorer.\n */\nvar node = function (state, action) {\n    if (state === void 0) { state = defaultPageState; }\n    switch (action.type) {\n        case exports.GET_PAGE_SUCCESS:\n            return Object.assign({}, state, action.payload.data, {\n                isError: false,\n            });\n        case exports.GET_CHILDREN_START:\n            return Object.assign({}, state, {\n                isFetchingChildren: true,\n            });\n        case exports.GET_TRANSLATIONS_START:\n            return Object.assign({}, state, {\n                isFetchingTranslations: true,\n            });\n        case exports.GET_CHILDREN_SUCCESS:\n            return Object.assign({}, state, {\n                isFetchingChildren: false,\n                isError: false,\n                children: {\n                    items: state.children.items.slice().concat(action.payload.items.map(function (item) { return item.id; })),\n                    count: action.payload.meta.total_count,\n                },\n            });\n        case exports.GET_TRANSLATIONS_SUCCESS:\n            // eslint-disable-next-line no-case-declarations\n            var translations_1 = new Map();\n            action.payload.items.forEach(function (item) {\n                translations_1.set(item.meta.locale, item.id);\n            });\n            return Object.assign({}, state, {\n                isFetchingTranslations: false,\n                isError: false,\n                translations: translations_1,\n            });\n        case exports.GET_PAGE_FAILURE:\n        case exports.GET_CHILDREN_FAILURE:\n        case exports.GET_TRANSLATIONS_FAILURE:\n            return Object.assign({}, state, {\n                isFetchingChildren: false,\n                isFetchingTranslations: true,\n                isError: true,\n            });\n        default:\n            return state;\n    }\n};\nvar defaultState = {};\n/**\n * Contains all of the page nodes in one object.\n */\nfunction nodes(state, action) {\n    var _a, _b, _c;\n    if (state === void 0) { state = defaultState; }\n    switch (action.type) {\n        case explorer_1.OPEN_EXPLORER: {\n            return Object.assign({}, state, (_a = {},\n                _a[action.payload.id] = Object.assign({}, defaultPageState),\n                _a));\n        }\n        case exports.GET_PAGE_SUCCESS:\n        case exports.GET_CHILDREN_START:\n        case exports.GET_TRANSLATIONS_START:\n        case exports.GET_PAGE_FAILURE:\n        case exports.GET_CHILDREN_FAILURE:\n        case exports.GET_TRANSLATIONS_FAILURE:\n            return Object.assign({}, state, (_b = {},\n                // Delegate logic to single-node reducer.\n                _b[action.payload.id] = node(state[action.payload.id], action),\n                _b));\n        case exports.GET_CHILDREN_SUCCESS:\n        case exports.GET_TRANSLATIONS_SUCCESS:\n            // eslint-disable-next-line no-case-declarations\n            var newState_1 = Object.assign({}, state, (_c = {},\n                _c[action.payload.id] = node(state[action.payload.id], action),\n                _c));\n            action.payload.items.forEach(function (item) {\n                newState_1[item.id] = Object.assign({}, defaultPageState, item);\n            });\n            return newState_1;\n        case explorer_1.CLOSE_EXPLORER: {\n            return defaultState;\n        }\n        default:\n            return state;\n    }\n}\nexports[\"default\"] = nodes;\n","\"use strict\";\nexports.__esModule = true;\nvar Explorer_1 = require(\"../../components/Explorer\");\nvar initSubmenus_1 = require(\"../../includes/initSubmenus\");\nvar initSkipLink_1 = require(\"../../includes/initSkipLink\");\ndocument.addEventListener('DOMContentLoaded', function () {\n    var explorerNode = document.querySelector('[data-explorer-menu]');\n    var toggleNode = document.querySelector('[data-explorer-start-page]');\n    if (explorerNode && toggleNode) {\n        Explorer_1.initExplorer(explorerNode, toggleNode);\n    }\n    initSubmenus_1.initSubmenus();\n    initSkipLink_1.initSkipLink();\n});\n","\"use strict\";\nexports.__esModule = true;\nexports.initSkipLink = void 0;\nvar initSkipLink = function () {\n    // Inspired by https://github.com/selfthinker/dokuwiki_template_writr/blob/master/js/skip-link-focus-fix.js\n    var skiplink = document.querySelector('[data-skiplink]');\n    var main = document.querySelector('main');\n    var handleBlur = function () {\n        main.removeAttribute('tabindex');\n        main.removeEventListener('blur', handleBlur);\n        main.removeEventListener('focusout', handleBlur);\n    };\n    var handleClick = function () {\n        main.setAttribute('tabindex', -1);\n        main.addEventListener('blur', handleBlur);\n        main.addEventListener('focusout', handleBlur);\n        main.focus();\n    };\n    if (skiplink && main) {\n        skiplink.addEventListener('click', handleClick);\n    }\n};\nexports.initSkipLink = initSkipLink;\n","\"use strict\";\n/**\n * Initialises the Submenus within the primary Wagtail menu (excluding the Explorer menu)\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nexports.__esModule = true;\nexports.initSubmenus = void 0;\nvar initSubmenus = function () {\n    var primaryNavContainer = document.querySelector('[data-nav-primary]');\n    if (!primaryNavContainer) {\n        return;\n    }\n    var subMenuTriggers = document.querySelectorAll('[data-nav-primary-submenu-trigger]');\n    var activeClass = 'submenu-active';\n    __spreadArray([], __read(subMenuTriggers)).forEach(function (subMenuTrigger) {\n        subMenuTrigger.addEventListener('click', function (clickEvent) {\n            var submenuContainer = subMenuTrigger.parentNode;\n            primaryNavContainer.classList.remove(activeClass);\n            __spreadArray([], __read(subMenuTriggers)).forEach(function (sm) { return sm.classList.remove(activeClass); });\n            primaryNavContainer.classList.toggle(activeClass);\n            submenuContainer.classList.toggle(activeClass);\n            document.addEventListener('mousedown', function (e) {\n                if (!submenuContainer.contains(e.target) &&\n                    subMenuTrigger !== e.target) {\n                    primaryNavContainer.classList.remove(activeClass);\n                    submenuContainer.classList.remove(activeClass);\n                }\n            });\n            document.addEventListener('keydown', function (e) {\n                // IE11 uses \"Esc\" instead of \"Escape\"\n                if (e.key === 'Escape' || e.key === 'Esc') {\n                    primaryNavContainer.classList.remove(activeClass);\n                    submenuContainer.classList.remove(activeClass);\n                }\n            });\n            clickEvent.preventDefault();\n        });\n    });\n};\nexports.initSubmenus = initSubmenus;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 753;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t753: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwagtail\"] = self[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [751], function() { return __webpack_require__(31751); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [751], function() { return __webpack_require__(90971); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}