{% load i18n wagtailadmin_tags %}

<ul class="breadcrumb">
    {% if choosing %}
        {% choosable_ancestors page request.user as ancestors %}
    {% else %}
        {% explorable_ancestors page request.user as ancestors %}
    {% endif %}
    {% for page in ancestors %}
        {% if choosing %}
            {% is_choosable_root page request.user as page_is_permitted_root %}
        {% else %}
            {% is_explorable_root page request.user as page_is_permitted_root %}
        {% endif %}
        {% if page_is_permitted_root %}
            <li class="home"><a href="{% if choosing %}{% url 'wagtailadmin_choose_page_child' page.id %}{% querystring p=None %}{% else %}{% url 'wagtailadmin_explore_root' %}{% endif %}" class="{% if choosing %}navigate-pages{% endif %} icon icon-home text-replace">{% trans 'Home' %}</a></li>
        {% else %}
            <li><a href="{% if choosing %}{% url 'wagtailadmin_choose_page_child' page.id %}{% querystring p=None %}{% else %}{% url 'wagtailadmin_explore' page.id %}{% endif %}" {% if choosing %}class="navigate-pages"{% endif %}>{{ page.title }}</a></li>
        {% endif %}
    {% endfor %}
    {% if include_self %}
        <li><a href="{% if choosing %}{% url 'wagtailadmin_choose_page_child' page.id %}{% querystring p=None %}{% else %}{% url 'wagtailadmin_explore' page.id %}{% endif %}" {% if choosing %}class="navigate-pages"{% endif %}>{{ page.title }}</a></li>
    {% endif %}
</ul>
