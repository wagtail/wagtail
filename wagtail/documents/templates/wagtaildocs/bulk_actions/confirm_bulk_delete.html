{% extends 'wagtailadmin/bulk_actions/confirmation/base.html' %}
{% load wagtailadmin_tags i18n %}
{% block titletag %}{% blocktrans count counter=documents|length %}Delete 1 document {% plural %}Delete {{ counter }} documents{% endblocktrans %}{% endblock %}

{% block header %}
    {% trans "Delete documents" as del_str %}
    {% include "wagtailadmin/shared/header.html" with title=del_str icon="doc-full-inverse" %}
{% endblock header %}

{% block objects_with_access %}
        {% if documents %}
        <p>
            {% blocktrans count counter=documents|length %}
            Are you sure you want to delete this document?
            {% plural %}
            Are you sure you want to delete these documents?
            {% endblocktrans %}
        </p>
        <ul>
        {% for document in documents %}
            <li>
                <a href="{% url 'wagtaildocs:edit' document.document.id %}"  target="_blank" rel="noopener noreferrer">{{document.document.title}}</a>
                {% usage_count_enabled as uc_enabled %}
                {% if uc_enabled %}
                <p>
                    <a href="{{ document.document.usage_url }}">{% blocktrans count usage_count=document.document.get_usage.count %}Used {{ usage_count }} time{% plural %}Used {{ usage_count }} times{% endblocktrans %}</a>
                </p>
                {% endif %}
            </li>
        {% endfor %}
        </ul>
        {% endif %}
{% endblock objects_with_access %}

{% block objects_with_no_access %}

{% blocktrans asvar no_access_msg count counter=documents_with_no_access|length %}You don't have permission to delete this document{% plural %}You don't have permission to delete these documents{% endblocktrans %}
{% include 'wagtaildocs/bulk_actions/list_objects_with_no_access.html' with objects=documents_with_no_access no_access_msg=no_access_msg %}

{% endblock objects_with_no_access %}

{% block form_section %}
        {% if documents %}
            {% trans 'Yes, delete' as action_button_text %}
            {% trans "No, don't delete" as no_action_button_text %}
            {% include 'wagtailadmin/bulk_actions/confirmation/form.html' with action_button_class="serious" %}
        {% else %}
            {% include 'wagtailadmin/bulk_actions/confirmation/go_back.html' %}
        {% endif %}
{% endblock form_section %}
