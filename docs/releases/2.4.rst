=========================
Wagtail 2.4 release notes
=========================

.. contents::
    :local:
    :depth: 1


What's new
==========

New "Welcome to your Wagtail site" Starter Page
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

When using the ``wagtail start`` command to make a new site, users will now be greeted with a proper starter page. Thanks to Timothy Allen and Scott Cranfill for pulling this off!

   .. figure:: ../_static/images/tutorial/tutorial_1.png
      :alt: Wagtail welcome message


Other features
~~~~~~~~~~~~~~

 * Added support for Python 3.7 (Matt Westcott)
 * Added ``max_count`` option on page models to limit the number of pages of a particular type that can be created (Dan Braghis)
 * Document and image choosers now show the document / image's collection (Alejandro Garza, Janneke Janssen)
 * New ``image_url`` template tag allows to generate dynamic image URLs, so image renditions are being created outside the main request which improves performance. Requires extra configuration, see :doc:`/advanced_topics/images/image_serve_view` (Yannick Chabbert, Dan Braghis).
 * Added ability to run individual tests through tox (Benjamin Bach)
 * Collection listings are now ordered by name (Seb Brown)
 * Added ``file_hash`` field to documents (Karl Hobley, Dan Braghis)
 * Added last login to the user overview (Noah B Johnson)
 * Changed design of image editing page (Janneke Janssen, Ben Enright)
 * Added Slovak character map for JavaScript slug generation (Andy Chosak)

Bug fixes
~~~~~~~~~

 * Query objects returned from ``PageQuerySet.type_q`` can now be merged with ``|`` (Brady Moe)
 * Add ``rel="noopener noreferrer"`` to target blank links (Anselm Bradford)
 * Additional fields on custom document models now show on the multiple document upload view (Robert Rollins, Sergey Fedoseev)
 * Help text does not overflow when using a combination of BooleanField and FieldPanel in page model (Dzianis Sheka)
 * Document chooser now displays more useful help message when there are no documents in Wagtail document library (gmmoraes, Stas Rudakou)
 * Allow custom logos of any height in the admin menu (Meteor0id)
 * Allow nav menu to take up all available space instead of scrolling (Meteor0id)
 * Users without the edit permission no longer see "Edit" links in list of pages waiting for moderation (Justin Focus, Fedor Selitsky)
 * Redirects now return 404 when destination is unspecified or a page with no site (Hillary Jeffrey)
 * Refactor all breakpoint definitions, removing style overlaps (Janneke Janssen)


Upgrade considerations
======================

Removed support for Django 1.11
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Django 1.11 is no longer supported in this release; please upgrade your project to Django 2.0 or 2.1 before upgrading to Wagtail 2.4.
