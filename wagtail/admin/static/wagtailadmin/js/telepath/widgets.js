/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./client/src/entrypoints/admin/telepath/widgets.js":
/*!**********************************************************!*\
  !*** ./client/src/entrypoints/admin/telepath/widgets.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexports.__esModule = true;\n/* global $ */\nvar gettext_1 = __webpack_require__(/*! ../../../utils/gettext */ \"./client/src/utils/gettext.ts\");\nvar BoundWidget = /** @class */ (function () {\n    function BoundWidget(element, name, idForLabel, initialState, parentCapabilities) {\n        var selector = ':input[name=\"' + name + '\"]';\n        this.input = element.find(selector).addBack(selector); // find, including element itself\n        this.idForLabel = idForLabel;\n        this.setState(initialState);\n        this.parentCapabilities = parentCapabilities || new Map();\n    }\n    BoundWidget.prototype.getValue = function () {\n        return this.input.val();\n    };\n    BoundWidget.prototype.getState = function () {\n        return this.input.val();\n    };\n    BoundWidget.prototype.setState = function (state) {\n        this.input.val(state);\n    };\n    BoundWidget.prototype.getTextLabel = function (opts) {\n        var val = this.getValue();\n        if (typeof val !== 'string')\n            return null;\n        var maxLength = opts && opts.maxLength;\n        if (maxLength && val.length > maxLength) {\n            return val.substring(0, maxLength - 1) + '…';\n        }\n        return val;\n    };\n    BoundWidget.prototype.focus = function () {\n        this.input.focus();\n    };\n    BoundWidget.prototype.setCapabilityOptions = function (capability, options) {\n        Object.assign(this.parentCapabilities.get(capability), options);\n    };\n    return BoundWidget;\n}());\nvar Widget = /** @class */ (function () {\n    function Widget(html, idPattern) {\n        this.boundWidgetClass = BoundWidget;\n        this.html = html;\n        this.idPattern = idPattern;\n    }\n    Widget.prototype.render = function (placeholder, name, id, initialState, parentCapabilities) {\n        var html = this.html.replace(/__NAME__/g, name).replace(/__ID__/g, id);\n        var idForLabel = this.idPattern.replace(/__ID__/g, id);\n        var dom = $(html);\n        $(placeholder).replaceWith(dom);\n        // eslint-disable-next-line new-cap\n        return new this.boundWidgetClass(dom, name, idForLabel, initialState, parentCapabilities);\n    };\n    return Widget;\n}());\nwindow.telepath.register('wagtail.widgets.Widget', Widget);\nvar BoundCheckboxInput = /** @class */ (function (_super) {\n    __extends(BoundCheckboxInput, _super);\n    function BoundCheckboxInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BoundCheckboxInput.prototype.getValue = function () {\n        return this.input.is(':checked');\n    };\n    BoundCheckboxInput.prototype.getState = function () {\n        return this.input.is(':checked');\n    };\n    BoundCheckboxInput.prototype.setState = function (state) {\n        // if false, set attribute value to null to remove it\n        this.input.attr('checked', state || null);\n    };\n    return BoundCheckboxInput;\n}(BoundWidget));\nvar CheckboxInput = /** @class */ (function (_super) {\n    __extends(CheckboxInput, _super);\n    function CheckboxInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.boundWidgetClass = BoundCheckboxInput;\n        return _this;\n    }\n    return CheckboxInput;\n}(Widget));\nwindow.telepath.register('wagtail.widgets.CheckboxInput', CheckboxInput);\nvar BoundRadioSelect = /** @class */ (function () {\n    function BoundRadioSelect(element, name, idForLabel, initialState) {\n        this.element = element;\n        this.name = name;\n        this.idForLabel = idForLabel;\n        this.selector = 'input[name=\"' + name + '\"]:checked';\n        this.setState(initialState);\n    }\n    BoundRadioSelect.prototype.getValue = function () {\n        return this.element.find(this.selector).val();\n    };\n    BoundRadioSelect.prototype.getState = function () {\n        return this.element.find(this.selector).val();\n    };\n    BoundRadioSelect.prototype.setState = function (state) {\n        this.element.find('input[name=\"' + this.name + '\"]').val([state]);\n    };\n    BoundRadioSelect.prototype.focus = function () {\n        this.element.find('input[name=\"' + this.name + '\"]').focus();\n    };\n    return BoundRadioSelect;\n}());\nvar RadioSelect = /** @class */ (function (_super) {\n    __extends(RadioSelect, _super);\n    function RadioSelect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.boundWidgetClass = BoundRadioSelect;\n        return _this;\n    }\n    return RadioSelect;\n}(Widget));\nwindow.telepath.register('wagtail.widgets.RadioSelect', RadioSelect);\nvar BoundSelect = /** @class */ (function (_super) {\n    __extends(BoundSelect, _super);\n    function BoundSelect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BoundSelect.prototype.getTextLabel = function () {\n        return this.input.find(':selected').text();\n    };\n    return BoundSelect;\n}(BoundWidget));\nvar Select = /** @class */ (function (_super) {\n    __extends(Select, _super);\n    function Select() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.boundWidgetClass = BoundSelect;\n        return _this;\n    }\n    return Select;\n}(Widget));\nwindow.telepath.register('wagtail.widgets.Select', Select);\nvar PageChooserFactory = /** @class */ (function () {\n    function PageChooserFactory(html, idPattern, config) {\n        this.html = html;\n        this.idPattern = idPattern;\n        this.config = config;\n    }\n    PageChooserFactory.prototype.render = function (placeholder, name, id, initialState) {\n        var html = this.html.replace(/__NAME__/g, name).replace(/__ID__/g, id);\n        var dom = $(html);\n        $(placeholder).replaceWith(dom);\n        /* the PageChooser object also serves as the JS widget representation */\n        // eslint-disable-next-line no-undef\n        var chooser = new PageChooser(id, null, this.config);\n        chooser.setState(initialState);\n        return chooser;\n    };\n    return PageChooserFactory;\n}());\nwindow.telepath.register('wagtail.widgets.PageChooser', PageChooserFactory);\nvar AdminAutoHeightTextInput = /** @class */ (function (_super) {\n    __extends(AdminAutoHeightTextInput, _super);\n    function AdminAutoHeightTextInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AdminAutoHeightTextInput.prototype.render = function (placeholder, name, id, initialState, parentCapabilities) {\n        var boundWidget = _super.prototype.render.call(this, placeholder, name, id, initialState, parentCapabilities);\n        window.autosize($('#' + id));\n        return boundWidget;\n    };\n    return AdminAutoHeightTextInput;\n}(Widget));\nwindow.telepath.register('wagtail.widgets.AdminAutoHeightTextInput', AdminAutoHeightTextInput);\nvar DraftailInsertBlockCommand = /** @class */ (function () {\n    /* Definition for a command in the Draftail context menu that inserts a block.\n     * Constructor args:\n     * widget - the bound Draftail widget\n     * blockDef - block definition for the block to be inserted\n     * addSibling, split - capability descriptors from the containing block's capabilities definition\n     */\n    function DraftailInsertBlockCommand(widget, blockDef, addSibling, split) {\n        this.widget = widget;\n        this.blockDef = blockDef;\n        this.addSibling = addSibling;\n        this.split = split;\n        this.blockMax = addSibling.getBlockMax(blockDef.name);\n        this.icon = \"#icon-\".concat(blockDef.meta.icon);\n        this.description = blockDef.meta.label;\n        this.type = blockDef.name;\n    }\n    DraftailInsertBlockCommand.prototype.render = function (_a) {\n        var option = _a.option;\n        // If the specific block has a limit, render the current number/max alongside the description\n        var limitText = typeof blockMax === 'number'\n            ? \" (\".concat(this.addSibling.getBlockCount(this.blockDef.name), \"/\").concat(this.blockMax, \")\")\n            : '';\n        return \"\".concat(option.description).concat(limitText);\n    };\n    DraftailInsertBlockCommand.prototype.onSelect = function (_a) {\n        var _this = this;\n        var editorState = _a.editorState;\n        // Reset the current block to unstyled and empty before splitting, so we remove the command prompt if used.\n        var result = window.draftail.splitState(window.draftail.DraftUtils.resetBlockWithType(editorState, 'unstyled'));\n        if (result.stateAfter.getCurrentContent().hasText()) {\n            // There is content after the insertion point, so need to split the existing block.\n            // Run the split after a timeout to circumvent potential race condition.\n            setTimeout(function () {\n                if (result) {\n                    _this.split.fn(result.stateBefore, result.stateAfter, result.shouldMoveCommentFn);\n                }\n                // setTimeout required to stop Draftail from giving itself focus again\n                setTimeout(function () {\n                    _this.addSibling.fn({ type: _this.blockDef.name });\n                }, 20);\n            }, 50);\n        }\n        else {\n            // Set the current block's content to the 'before' state, to remove the '/' separator and\n            // reset the editor state (closing the context menu)\n            this.widget.setState(result.stateBefore);\n            // setTimeout required to stop Draftail from giving itself focus again\n            setTimeout(function () {\n                _this.addSibling.fn({ type: _this.blockDef.name });\n            }, 20);\n        }\n    };\n    return DraftailInsertBlockCommand;\n}());\nvar DraftailSplitCommand = /** @class */ (function () {\n    /* Definition for a command in the Draftail context menu that splits the block.\n     * Constructor args:\n     * widget - the bound Draftail widget\n     * split - capability descriptor from the containing block's capabilities definition\n     */\n    function DraftailSplitCommand(widget, split) {\n        this.icon = '#icon-cut';\n        this.type = 'split';\n        this.widget = widget;\n        this.split = split;\n        this.description = (0, gettext_1.gettext)('Split block');\n    }\n    DraftailSplitCommand.prototype.onSelect = function (_a) {\n        var _this = this;\n        var editorState = _a.editorState;\n        var result = window.draftail.splitState(window.draftail.DraftUtils.resetBlockWithType(editorState, 'unstyled'));\n        // Run the split after a timeout to circumvent potential race condition.\n        setTimeout(function () {\n            if (result) {\n                _this.split.fn(result.stateBefore, result.stateAfter, result.shouldMoveCommentFn);\n            }\n        }, 50);\n    };\n    return DraftailSplitCommand;\n}());\nvar BoundDraftailWidget = /** @class */ (function () {\n    function BoundDraftailWidget(input, options, parentCapabilities) {\n        this.input = input;\n        this.capabilities = new Map(parentCapabilities);\n        this.options = options;\n        // eslint-disable-next-line no-undef\n        var _a = __read(draftail.initEditor('#' + this.input.id, this.getFullOptions(), document.currentScript), 2), setOptions = _a[1];\n        this.setDraftailOptions = setOptions;\n    }\n    BoundDraftailWidget.prototype.getValue = function () {\n        return this.input.value;\n    };\n    BoundDraftailWidget.prototype.getState = function () {\n        return this.input.draftailEditor.getEditorState();\n    };\n    BoundDraftailWidget.prototype.setState = function (editorState) {\n        this.input.draftailEditor.onChange(editorState);\n    };\n    BoundDraftailWidget.prototype.getTextLabel = function (opts) {\n        var e_1, _a;\n        var maxLength = opts && opts.maxLength;\n        if (!this.input.value)\n            return '';\n        var value = JSON.parse(this.input.value);\n        if (!value || !value.blocks)\n            return '';\n        var result = '';\n        try {\n            for (var _b = __values(value.blocks), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var block = _c.value;\n                if (block.text) {\n                    result += result ? ' ' + block.text : block.text;\n                    if (maxLength && result.length > maxLength) {\n                        return result.substring(0, maxLength - 1) + '…';\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return result;\n    };\n    BoundDraftailWidget.prototype.focus = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.input.draftailEditor.focus();\n        }, 50);\n    };\n    BoundDraftailWidget.prototype.setCapabilityOptions = function (capability, capabilityOptions) {\n        var newCapability = Object.assign(this.capabilities.get(capability), capabilityOptions);\n        this.capabilities.set(capability, newCapability);\n        this.setDraftailOptions(this.getFullOptions());\n    };\n    /**\n     * Given a mapping of the capabilities supported by this widget's container,\n     * return the options overrides that enable additional widget functionality\n     * (e.g. splitting or adding additional blocks).\n     * Non-context-dependent Draftail options are available here as this.options.\n     */\n    BoundDraftailWidget.prototype.getCapabilityOptions = function (parentCapabilities) {\n        var _this = this;\n        var options = {};\n        var capabilities = parentCapabilities;\n        var split = capabilities.get('split');\n        var addSibling = capabilities.get('addSibling');\n        var blockCommands = [];\n        if (split) {\n            var blockGroups = addSibling && addSibling.enabled && split.enabled\n                ? addSibling.blockGroups\n                : [];\n            // Create commands for splitting + inserting a block. This requires both the split\n            // and addSibling capabilities to be available and enabled\n            blockCommands = blockGroups.map(function (_a) {\n                var _b = __read(_a, 2), group = _b[0], blocks = _b[1];\n                var blockControls = blocks.map(function (blockDef) {\n                    return new DraftailInsertBlockCommand(_this, blockDef, addSibling, split);\n                });\n                return {\n                    label: group || (0, gettext_1.gettext)('Blocks'),\n                    type: \"streamfield-\".concat(group),\n                    items: blockControls\n                };\n            });\n            if (split.enabled) {\n                blockCommands.push({\n                    label: 'Actions',\n                    type: 'custom-actions',\n                    items: [new DraftailSplitCommand(this, split)]\n                });\n            }\n        }\n        options.commands = __spreadArray([\n            {\n                label: (0, gettext_1.gettext)('Rich text'),\n                type: 'blockTypes'\n            },\n            {\n                type: 'entityTypes'\n            }\n        ], __read(blockCommands), false);\n        return options;\n    };\n    BoundDraftailWidget.prototype.getFullOptions = function () {\n        return __assign(__assign({}, this.options), this.getCapabilityOptions(this.capabilities));\n    };\n    return BoundDraftailWidget;\n}());\nvar DraftailRichTextArea = /** @class */ (function () {\n    function DraftailRichTextArea(options) {\n        this.options = options;\n    }\n    DraftailRichTextArea.prototype.render = function (container, name, id, initialState, parentCapabilities) {\n        var input = document.createElement('input');\n        input.type = 'hidden';\n        input.id = id;\n        input.name = name;\n        // If the initialState is an EditorState, rather than serialized rawContentState, it's\n        // easier for us to initialize the widget blank and then setState to the correct state\n        var initialiseBlank = !!initialState.getCurrentContent;\n        input.value = initialiseBlank ? 'null' : initialState;\n        container.appendChild(input);\n        var boundDraftail = new BoundDraftailWidget(input, this.options, parentCapabilities);\n        if (initialiseBlank) {\n            boundDraftail.setState(initialState);\n        }\n        return boundDraftail;\n    };\n    return DraftailRichTextArea;\n}());\nwindow.telepath.register('wagtail.widgets.DraftailRichTextArea', DraftailRichTextArea);\nvar BaseDateTimeWidget = /** @class */ (function (_super) {\n    __extends(BaseDateTimeWidget, _super);\n    function BaseDateTimeWidget(options) {\n        var _this = this;\n        _this.options = options;\n        return _this;\n    }\n    BaseDateTimeWidget.prototype.render = function (placeholder, name, id, initialState) {\n        var element = document.createElement('input');\n        element.type = 'text';\n        element.name = name;\n        element.id = id;\n        placeholder.replaceWith(element);\n        this.initChooserFn(id, this.options);\n        var widget = {\n            getValue: function () {\n                return element.value;\n            },\n            getState: function () {\n                return element.value;\n            },\n            setState: function (state) {\n                element.value = state;\n            },\n            focus: function (opts) {\n                // focusing opens the date picker, so don't do this if it's a 'soft' focus\n                if (opts && opts.soft)\n                    return;\n                element.focus();\n            },\n            idForLabel: id\n        };\n        widget.setState(initialState);\n        return widget;\n    };\n    return BaseDateTimeWidget;\n}(Widget));\nvar AdminDateInput = /** @class */ (function (_super) {\n    __extends(AdminDateInput, _super);\n    function AdminDateInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.initChooserFn = window.initDateChooser;\n        return _this;\n    }\n    return AdminDateInput;\n}(BaseDateTimeWidget));\nwindow.telepath.register('wagtail.widgets.AdminDateInput', AdminDateInput);\nvar AdminTimeInput = /** @class */ (function (_super) {\n    __extends(AdminTimeInput, _super);\n    function AdminTimeInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.initChooserFn = window.initTimeChooser;\n        return _this;\n    }\n    return AdminTimeInput;\n}(BaseDateTimeWidget));\nwindow.telepath.register('wagtail.widgets.AdminTimeInput', AdminTimeInput);\nvar AdminDateTimeInput = /** @class */ (function (_super) {\n    __extends(AdminDateTimeInput, _super);\n    function AdminDateTimeInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.initChooserFn = window.initDateTimeChooser;\n        return _this;\n    }\n    return AdminDateTimeInput;\n}(BaseDateTimeWidget));\nwindow.telepath.register('wagtail.widgets.AdminDateTimeInput', AdminDateTimeInput);\nvar ValidationError = /** @class */ (function () {\n    function ValidationError(messages) {\n        this.messages = messages;\n    }\n    return ValidationError;\n}());\nwindow.telepath.register('wagtail.errors.ValidationError', ValidationError);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2VudHJ5cG9pbnRzL2FkbWluL3RlbGVwYXRoL3dpZGdldHMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FndGFpbC8uL2NsaWVudC9zcmMvZW50cnlwb2ludHMvYWRtaW4vdGVsZXBhdGgvd2lkZ2V0cy5qcz8yNmUzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyogZ2xvYmFsICQgKi9cbnZhciBnZXR0ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZ2V0dGV4dFwiKTtcbnZhciBCb3VuZFdpZGdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZFdpZGdldChlbGVtZW50LCBuYW1lLCBpZEZvckxhYmVsLCBpbml0aWFsU3RhdGUsIHBhcmVudENhcGFiaWxpdGllcykge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnOmlucHV0W25hbWU9XCInICsgbmFtZSArICdcIl0nO1xuICAgICAgICB0aGlzLmlucHV0ID0gZWxlbWVudC5maW5kKHNlbGVjdG9yKS5hZGRCYWNrKHNlbGVjdG9yKTsgLy8gZmluZCwgaW5jbHVkaW5nIGVsZW1lbnQgaXRzZWxmXG4gICAgICAgIHRoaXMuaWRGb3JMYWJlbCA9IGlkRm9yTGFiZWw7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgdGhpcy5wYXJlbnRDYXBhYmlsaXRpZXMgPSBwYXJlbnRDYXBhYmlsaXRpZXMgfHwgbmV3IE1hcCgpO1xuICAgIH1cbiAgICBCb3VuZFdpZGdldC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LnZhbCgpO1xuICAgIH07XG4gICAgQm91bmRXaWRnZXQucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC52YWwoKTtcbiAgICB9O1xuICAgIEJvdW5kV2lkZ2V0LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLmlucHV0LnZhbChzdGF0ZSk7XG4gICAgfTtcbiAgICBCb3VuZFdpZGdldC5wcm90b3R5cGUuZ2V0VGV4dExhYmVsID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBtYXhMZW5ndGggPSBvcHRzICYmIG9wdHMubWF4TGVuZ3RoO1xuICAgICAgICBpZiAobWF4TGVuZ3RoICYmIHZhbC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuc3Vic3RyaW5nKDAsIG1heExlbmd0aCAtIDEpICsgJ+KApic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuICAgIEJvdW5kV2lkZ2V0LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgIH07XG4gICAgQm91bmRXaWRnZXQucHJvdG90eXBlLnNldENhcGFiaWxpdHlPcHRpb25zID0gZnVuY3Rpb24gKGNhcGFiaWxpdHksIG9wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnBhcmVudENhcGFiaWxpdGllcy5nZXQoY2FwYWJpbGl0eSksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIEJvdW5kV2lkZ2V0O1xufSgpKTtcbnZhciBXaWRnZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2lkZ2V0KGh0bWwsIGlkUGF0dGVybikge1xuICAgICAgICB0aGlzLmJvdW5kV2lkZ2V0Q2xhc3MgPSBCb3VuZFdpZGdldDtcbiAgICAgICAgdGhpcy5odG1sID0gaHRtbDtcbiAgICAgICAgdGhpcy5pZFBhdHRlcm4gPSBpZFBhdHRlcm47XG4gICAgfVxuICAgIFdpZGdldC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHBsYWNlaG9sZGVyLCBuYW1lLCBpZCwgaW5pdGlhbFN0YXRlLCBwYXJlbnRDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWwucmVwbGFjZSgvX19OQU1FX18vZywgbmFtZSkucmVwbGFjZSgvX19JRF9fL2csIGlkKTtcbiAgICAgICAgdmFyIGlkRm9yTGFiZWwgPSB0aGlzLmlkUGF0dGVybi5yZXBsYWNlKC9fX0lEX18vZywgaWQpO1xuICAgICAgICB2YXIgZG9tID0gJChodG1sKTtcbiAgICAgICAgJChwbGFjZWhvbGRlcikucmVwbGFjZVdpdGgoZG9tKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmJvdW5kV2lkZ2V0Q2xhc3MoZG9tLCBuYW1lLCBpZEZvckxhYmVsLCBpbml0aWFsU3RhdGUsIHBhcmVudENhcGFiaWxpdGllcyk7XG4gICAgfTtcbiAgICByZXR1cm4gV2lkZ2V0O1xufSgpKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC53aWRnZXRzLldpZGdldCcsIFdpZGdldCk7XG52YXIgQm91bmRDaGVja2JveElucHV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb3VuZENoZWNrYm94SW5wdXQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm91bmRDaGVja2JveElucHV0KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEJvdW5kQ2hlY2tib3hJbnB1dC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LmlzKCc6Y2hlY2tlZCcpO1xuICAgIH07XG4gICAgQm91bmRDaGVja2JveElucHV0LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuaXMoJzpjaGVja2VkJyk7XG4gICAgfTtcbiAgICBCb3VuZENoZWNrYm94SW5wdXQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIC8vIGlmIGZhbHNlLCBzZXQgYXR0cmlidXRlIHZhbHVlIHRvIG51bGwgdG8gcmVtb3ZlIGl0XG4gICAgICAgIHRoaXMuaW5wdXQuYXR0cignY2hlY2tlZCcsIHN0YXRlIHx8IG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIEJvdW5kQ2hlY2tib3hJbnB1dDtcbn0oQm91bmRXaWRnZXQpKTtcbnZhciBDaGVja2JveElucHV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaGVja2JveElucHV0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoZWNrYm94SW5wdXQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ib3VuZFdpZGdldENsYXNzID0gQm91bmRDaGVja2JveElucHV0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBDaGVja2JveElucHV0O1xufShXaWRnZXQpKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC53aWRnZXRzLkNoZWNrYm94SW5wdXQnLCBDaGVja2JveElucHV0KTtcbnZhciBCb3VuZFJhZGlvU2VsZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kUmFkaW9TZWxlY3QoZWxlbWVudCwgbmFtZSwgaWRGb3JMYWJlbCwgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaWRGb3JMYWJlbCA9IGlkRm9yTGFiZWw7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSAnaW5wdXRbbmFtZT1cIicgKyBuYW1lICsgJ1wiXTpjaGVja2VkJztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgICBCb3VuZFJhZGlvU2VsZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuc2VsZWN0b3IpLnZhbCgpO1xuICAgIH07XG4gICAgQm91bmRSYWRpb1NlbGVjdC5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLnNlbGVjdG9yKS52YWwoKTtcbiAgICB9O1xuICAgIEJvdW5kUmFkaW9TZWxlY3QucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dFtuYW1lPVwiJyArIHRoaXMubmFtZSArICdcIl0nKS52YWwoW3N0YXRlXSk7XG4gICAgfTtcbiAgICBCb3VuZFJhZGlvU2VsZWN0LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJ2lucHV0W25hbWU9XCInICsgdGhpcy5uYW1lICsgJ1wiXScpLmZvY3VzKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRSYWRpb1NlbGVjdDtcbn0oKSk7XG52YXIgUmFkaW9TZWxlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJhZGlvU2VsZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJhZGlvU2VsZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYm91bmRXaWRnZXRDbGFzcyA9IEJvdW5kUmFkaW9TZWxlY3Q7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJhZGlvU2VsZWN0O1xufShXaWRnZXQpKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC53aWRnZXRzLlJhZGlvU2VsZWN0JywgUmFkaW9TZWxlY3QpO1xudmFyIEJvdW5kU2VsZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb3VuZFNlbGVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb3VuZFNlbGVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBCb3VuZFNlbGVjdC5wcm90b3R5cGUuZ2V0VGV4dExhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5maW5kKCc6c2VsZWN0ZWQnKS50ZXh0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRTZWxlY3Q7XG59KEJvdW5kV2lkZ2V0KSk7XG52YXIgU2VsZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTZWxlY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VsZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYm91bmRXaWRnZXRDbGFzcyA9IEJvdW5kU2VsZWN0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTZWxlY3Q7XG59KFdpZGdldCkpO1xud2luZG93LnRlbGVwYXRoLnJlZ2lzdGVyKCd3YWd0YWlsLndpZGdldHMuU2VsZWN0JywgU2VsZWN0KTtcbnZhciBQYWdlQ2hvb3NlckZhY3RvcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFnZUNob29zZXJGYWN0b3J5KGh0bWwsIGlkUGF0dGVybiwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuaHRtbCA9IGh0bWw7XG4gICAgICAgIHRoaXMuaWRQYXR0ZXJuID0gaWRQYXR0ZXJuO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG4gICAgUGFnZUNob29zZXJGYWN0b3J5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocGxhY2Vob2xkZXIsIG5hbWUsIGlkLCBpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWwucmVwbGFjZSgvX19OQU1FX18vZywgbmFtZSkucmVwbGFjZSgvX19JRF9fL2csIGlkKTtcbiAgICAgICAgdmFyIGRvbSA9ICQoaHRtbCk7XG4gICAgICAgICQocGxhY2Vob2xkZXIpLnJlcGxhY2VXaXRoKGRvbSk7XG4gICAgICAgIC8qIHRoZSBQYWdlQ2hvb3NlciBvYmplY3QgYWxzbyBzZXJ2ZXMgYXMgdGhlIEpTIHdpZGdldCByZXByZXNlbnRhdGlvbiAqL1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgdmFyIGNob29zZXIgPSBuZXcgUGFnZUNob29zZXIoaWQsIG51bGwsIHRoaXMuY29uZmlnKTtcbiAgICAgICAgY2hvb3Nlci5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICByZXR1cm4gY2hvb3NlcjtcbiAgICB9O1xuICAgIHJldHVybiBQYWdlQ2hvb3NlckZhY3Rvcnk7XG59KCkpO1xud2luZG93LnRlbGVwYXRoLnJlZ2lzdGVyKCd3YWd0YWlsLndpZGdldHMuUGFnZUNob29zZXInLCBQYWdlQ2hvb3NlckZhY3RvcnkpO1xudmFyIEFkbWluQXV0b0hlaWdodFRleHRJbnB1dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWRtaW5BdXRvSGVpZ2h0VGV4dElucHV0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFkbWluQXV0b0hlaWdodFRleHRJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBZG1pbkF1dG9IZWlnaHRUZXh0SW5wdXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlciwgbmFtZSwgaWQsIGluaXRpYWxTdGF0ZSwgcGFyZW50Q2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIHZhciBib3VuZFdpZGdldCA9IF9zdXBlci5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcywgcGxhY2Vob2xkZXIsIG5hbWUsIGlkLCBpbml0aWFsU3RhdGUsIHBhcmVudENhcGFiaWxpdGllcyk7XG4gICAgICAgIHdpbmRvdy5hdXRvc2l6ZSgkKCcjJyArIGlkKSk7XG4gICAgICAgIHJldHVybiBib3VuZFdpZGdldDtcbiAgICB9O1xuICAgIHJldHVybiBBZG1pbkF1dG9IZWlnaHRUZXh0SW5wdXQ7XG59KFdpZGdldCkpO1xud2luZG93LnRlbGVwYXRoLnJlZ2lzdGVyKCd3YWd0YWlsLndpZGdldHMuQWRtaW5BdXRvSGVpZ2h0VGV4dElucHV0JywgQWRtaW5BdXRvSGVpZ2h0VGV4dElucHV0KTtcbnZhciBEcmFmdGFpbEluc2VydEJsb2NrQ29tbWFuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiBEZWZpbml0aW9uIGZvciBhIGNvbW1hbmQgaW4gdGhlIERyYWZ0YWlsIGNvbnRleHQgbWVudSB0aGF0IGluc2VydHMgYSBibG9jay5cbiAgICAgKiBDb25zdHJ1Y3RvciBhcmdzOlxuICAgICAqIHdpZGdldCAtIHRoZSBib3VuZCBEcmFmdGFpbCB3aWRnZXRcbiAgICAgKiBibG9ja0RlZiAtIGJsb2NrIGRlZmluaXRpb24gZm9yIHRoZSBibG9jayB0byBiZSBpbnNlcnRlZFxuICAgICAqIGFkZFNpYmxpbmcsIHNwbGl0IC0gY2FwYWJpbGl0eSBkZXNjcmlwdG9ycyBmcm9tIHRoZSBjb250YWluaW5nIGJsb2NrJ3MgY2FwYWJpbGl0aWVzIGRlZmluaXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFmdGFpbEluc2VydEJsb2NrQ29tbWFuZCh3aWRnZXQsIGJsb2NrRGVmLCBhZGRTaWJsaW5nLCBzcGxpdCkge1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5ibG9ja0RlZiA9IGJsb2NrRGVmO1xuICAgICAgICB0aGlzLmFkZFNpYmxpbmcgPSBhZGRTaWJsaW5nO1xuICAgICAgICB0aGlzLnNwbGl0ID0gc3BsaXQ7XG4gICAgICAgIHRoaXMuYmxvY2tNYXggPSBhZGRTaWJsaW5nLmdldEJsb2NrTWF4KGJsb2NrRGVmLm5hbWUpO1xuICAgICAgICB0aGlzLmljb24gPSBcIiNpY29uLVwiLmNvbmNhdChibG9ja0RlZi5tZXRhLmljb24pO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gYmxvY2tEZWYubWV0YS5sYWJlbDtcbiAgICAgICAgdGhpcy50eXBlID0gYmxvY2tEZWYubmFtZTtcbiAgICB9XG4gICAgRHJhZnRhaWxJbnNlcnRCbG9ja0NvbW1hbmQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgb3B0aW9uID0gX2Eub3B0aW9uO1xuICAgICAgICAvLyBJZiB0aGUgc3BlY2lmaWMgYmxvY2sgaGFzIGEgbGltaXQsIHJlbmRlciB0aGUgY3VycmVudCBudW1iZXIvbWF4IGFsb25nc2lkZSB0aGUgZGVzY3JpcHRpb25cbiAgICAgICAgdmFyIGxpbWl0VGV4dCA9IHR5cGVvZiBibG9ja01heCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgID8gXCIgKFwiLmNvbmNhdCh0aGlzLmFkZFNpYmxpbmcuZ2V0QmxvY2tDb3VudCh0aGlzLmJsb2NrRGVmLm5hbWUpLCBcIi9cIikuY29uY2F0KHRoaXMuYmxvY2tNYXgsIFwiKVwiKVxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KG9wdGlvbi5kZXNjcmlwdGlvbikuY29uY2F0KGxpbWl0VGV4dCk7XG4gICAgfTtcbiAgICBEcmFmdGFpbEluc2VydEJsb2NrQ29tbWFuZC5wcm90b3R5cGUub25TZWxlY3QgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGVkaXRvclN0YXRlID0gX2EuZWRpdG9yU3RhdGU7XG4gICAgICAgIC8vIFJlc2V0IHRoZSBjdXJyZW50IGJsb2NrIHRvIHVuc3R5bGVkIGFuZCBlbXB0eSBiZWZvcmUgc3BsaXR0aW5nLCBzbyB3ZSByZW1vdmUgdGhlIGNvbW1hbmQgcHJvbXB0IGlmIHVzZWQuXG4gICAgICAgIHZhciByZXN1bHQgPSB3aW5kb3cuZHJhZnRhaWwuc3BsaXRTdGF0ZSh3aW5kb3cuZHJhZnRhaWwuRHJhZnRVdGlscy5yZXNldEJsb2NrV2l0aFR5cGUoZWRpdG9yU3RhdGUsICd1bnN0eWxlZCcpKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZUFmdGVyLmdldEN1cnJlbnRDb250ZW50KCkuaGFzVGV4dCgpKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBjb250ZW50IGFmdGVyIHRoZSBpbnNlcnRpb24gcG9pbnQsIHNvIG5lZWQgdG8gc3BsaXQgdGhlIGV4aXN0aW5nIGJsb2NrLlxuICAgICAgICAgICAgLy8gUnVuIHRoZSBzcGxpdCBhZnRlciBhIHRpbWVvdXQgdG8gY2lyY3VtdmVudCBwb3RlbnRpYWwgcmFjZSBjb25kaXRpb24uXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNwbGl0LmZuKHJlc3VsdC5zdGF0ZUJlZm9yZSwgcmVzdWx0LnN0YXRlQWZ0ZXIsIHJlc3VsdC5zaG91bGRNb3ZlQ29tbWVudEZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCByZXF1aXJlZCB0byBzdG9wIERyYWZ0YWlsIGZyb20gZ2l2aW5nIGl0c2VsZiBmb2N1cyBhZ2FpblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRTaWJsaW5nLmZuKHsgdHlwZTogX3RoaXMuYmxvY2tEZWYubmFtZSB9KTtcbiAgICAgICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgdGhlIGN1cnJlbnQgYmxvY2sncyBjb250ZW50IHRvIHRoZSAnYmVmb3JlJyBzdGF0ZSwgdG8gcmVtb3ZlIHRoZSAnLycgc2VwYXJhdG9yIGFuZFxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGVkaXRvciBzdGF0ZSAoY2xvc2luZyB0aGUgY29udGV4dCBtZW51KVxuICAgICAgICAgICAgdGhpcy53aWRnZXQuc2V0U3RhdGUocmVzdWx0LnN0YXRlQmVmb3JlKTtcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQgcmVxdWlyZWQgdG8gc3RvcCBEcmFmdGFpbCBmcm9tIGdpdmluZyBpdHNlbGYgZm9jdXMgYWdhaW5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZFNpYmxpbmcuZm4oeyB0eXBlOiBfdGhpcy5ibG9ja0RlZi5uYW1lIH0pO1xuICAgICAgICAgICAgfSwgMjApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZnRhaWxJbnNlcnRCbG9ja0NvbW1hbmQ7XG59KCkpO1xudmFyIERyYWZ0YWlsU3BsaXRDb21tYW5kID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qIERlZmluaXRpb24gZm9yIGEgY29tbWFuZCBpbiB0aGUgRHJhZnRhaWwgY29udGV4dCBtZW51IHRoYXQgc3BsaXRzIHRoZSBibG9jay5cbiAgICAgKiBDb25zdHJ1Y3RvciBhcmdzOlxuICAgICAqIHdpZGdldCAtIHRoZSBib3VuZCBEcmFmdGFpbCB3aWRnZXRcbiAgICAgKiBzcGxpdCAtIGNhcGFiaWxpdHkgZGVzY3JpcHRvciBmcm9tIHRoZSBjb250YWluaW5nIGJsb2NrJ3MgY2FwYWJpbGl0aWVzIGRlZmluaXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFmdGFpbFNwbGl0Q29tbWFuZCh3aWRnZXQsIHNwbGl0KSB7XG4gICAgICAgIHRoaXMuaWNvbiA9ICcjaWNvbi1jdXQnO1xuICAgICAgICB0aGlzLnR5cGUgPSAnc3BsaXQnO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5zcGxpdCA9IHNwbGl0O1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gKDAsIGdldHRleHRfMS5nZXR0ZXh0KSgnU3BsaXQgYmxvY2snKTtcbiAgICB9XG4gICAgRHJhZnRhaWxTcGxpdENvbW1hbmQucHJvdG90eXBlLm9uU2VsZWN0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBlZGl0b3JTdGF0ZSA9IF9hLmVkaXRvclN0YXRlO1xuICAgICAgICB2YXIgcmVzdWx0ID0gd2luZG93LmRyYWZ0YWlsLnNwbGl0U3RhdGUod2luZG93LmRyYWZ0YWlsLkRyYWZ0VXRpbHMucmVzZXRCbG9ja1dpdGhUeXBlKGVkaXRvclN0YXRlLCAndW5zdHlsZWQnKSk7XG4gICAgICAgIC8vIFJ1biB0aGUgc3BsaXQgYWZ0ZXIgYSB0aW1lb3V0IHRvIGNpcmN1bXZlbnQgcG90ZW50aWFsIHJhY2UgY29uZGl0aW9uLlxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zcGxpdC5mbihyZXN1bHQuc3RhdGVCZWZvcmUsIHJlc3VsdC5zdGF0ZUFmdGVyLCByZXN1bHQuc2hvdWxkTW92ZUNvbW1lbnRGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwKTtcbiAgICB9O1xuICAgIHJldHVybiBEcmFmdGFpbFNwbGl0Q29tbWFuZDtcbn0oKSk7XG52YXIgQm91bmREcmFmdGFpbFdpZGdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZERyYWZ0YWlsV2lkZ2V0KGlucHV0LCBvcHRpb25zLCBwYXJlbnRDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLmNhcGFiaWxpdGllcyA9IG5ldyBNYXAocGFyZW50Q2FwYWJpbGl0aWVzKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIHZhciBfYSA9IF9fcmVhZChkcmFmdGFpbC5pbml0RWRpdG9yKCcjJyArIHRoaXMuaW5wdXQuaWQsIHRoaXMuZ2V0RnVsbE9wdGlvbnMoKSwgZG9jdW1lbnQuY3VycmVudFNjcmlwdCksIDIpLCBzZXRPcHRpb25zID0gX2FbMV07XG4gICAgICAgIHRoaXMuc2V0RHJhZnRhaWxPcHRpb25zID0gc2V0T3B0aW9ucztcbiAgICB9XG4gICAgQm91bmREcmFmdGFpbFdpZGdldC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LnZhbHVlO1xuICAgIH07XG4gICAgQm91bmREcmFmdGFpbFdpZGdldC5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LmRyYWZ0YWlsRWRpdG9yLmdldEVkaXRvclN0YXRlKCk7XG4gICAgfTtcbiAgICBCb3VuZERyYWZ0YWlsV2lkZ2V0LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChlZGl0b3JTdGF0ZSkge1xuICAgICAgICB0aGlzLmlucHV0LmRyYWZ0YWlsRWRpdG9yLm9uQ2hhbmdlKGVkaXRvclN0YXRlKTtcbiAgICB9O1xuICAgIEJvdW5kRHJhZnRhaWxXaWRnZXQucHJvdG90eXBlLmdldFRleHRMYWJlbCA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgbWF4TGVuZ3RoID0gb3B0cyAmJiBvcHRzLm1heExlbmd0aDtcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0LnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB2YXIgdmFsdWUgPSBKU09OLnBhcnNlKHRoaXMuaW5wdXQudmFsdWUpO1xuICAgICAgICBpZiAoIXZhbHVlIHx8ICF2YWx1ZS5ibG9ja3MpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModmFsdWUuYmxvY2tzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBibG9jayA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChibG9jay50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSByZXN1bHQgPyAnICcgKyBibG9jay50ZXh0IDogYmxvY2sudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heExlbmd0aCAmJiByZXN1bHQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnN1YnN0cmluZygwLCBtYXhMZW5ndGggLSAxKSArICfigKYnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2JbXCJyZXR1cm5cIl0pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgQm91bmREcmFmdGFpbFdpZGdldC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaW5wdXQuZHJhZnRhaWxFZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH07XG4gICAgQm91bmREcmFmdGFpbFdpZGdldC5wcm90b3R5cGUuc2V0Q2FwYWJpbGl0eU9wdGlvbnMgPSBmdW5jdGlvbiAoY2FwYWJpbGl0eSwgY2FwYWJpbGl0eU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG5ld0NhcGFiaWxpdHkgPSBPYmplY3QuYXNzaWduKHRoaXMuY2FwYWJpbGl0aWVzLmdldChjYXBhYmlsaXR5KSwgY2FwYWJpbGl0eU9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNhcGFiaWxpdGllcy5zZXQoY2FwYWJpbGl0eSwgbmV3Q2FwYWJpbGl0eSk7XG4gICAgICAgIHRoaXMuc2V0RHJhZnRhaWxPcHRpb25zKHRoaXMuZ2V0RnVsbE9wdGlvbnMoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG1hcHBpbmcgb2YgdGhlIGNhcGFiaWxpdGllcyBzdXBwb3J0ZWQgYnkgdGhpcyB3aWRnZXQncyBjb250YWluZXIsXG4gICAgICogcmV0dXJuIHRoZSBvcHRpb25zIG92ZXJyaWRlcyB0aGF0IGVuYWJsZSBhZGRpdGlvbmFsIHdpZGdldCBmdW5jdGlvbmFsaXR5XG4gICAgICogKGUuZy4gc3BsaXR0aW5nIG9yIGFkZGluZyBhZGRpdGlvbmFsIGJsb2NrcykuXG4gICAgICogTm9uLWNvbnRleHQtZGVwZW5kZW50IERyYWZ0YWlsIG9wdGlvbnMgYXJlIGF2YWlsYWJsZSBoZXJlIGFzIHRoaXMub3B0aW9ucy5cbiAgICAgKi9cbiAgICBCb3VuZERyYWZ0YWlsV2lkZ2V0LnByb3RvdHlwZS5nZXRDYXBhYmlsaXR5T3B0aW9ucyA9IGZ1bmN0aW9uIChwYXJlbnRDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgdmFyIGNhcGFiaWxpdGllcyA9IHBhcmVudENhcGFiaWxpdGllcztcbiAgICAgICAgdmFyIHNwbGl0ID0gY2FwYWJpbGl0aWVzLmdldCgnc3BsaXQnKTtcbiAgICAgICAgdmFyIGFkZFNpYmxpbmcgPSBjYXBhYmlsaXRpZXMuZ2V0KCdhZGRTaWJsaW5nJyk7XG4gICAgICAgIHZhciBibG9ja0NvbW1hbmRzID0gW107XG4gICAgICAgIGlmIChzcGxpdCkge1xuICAgICAgICAgICAgdmFyIGJsb2NrR3JvdXBzID0gYWRkU2libGluZyAmJiBhZGRTaWJsaW5nLmVuYWJsZWQgJiYgc3BsaXQuZW5hYmxlZFxuICAgICAgICAgICAgICAgID8gYWRkU2libGluZy5ibG9ja0dyb3Vwc1xuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgICAvLyBDcmVhdGUgY29tbWFuZHMgZm9yIHNwbGl0dGluZyArIGluc2VydGluZyBhIGJsb2NrLiBUaGlzIHJlcXVpcmVzIGJvdGggdGhlIHNwbGl0XG4gICAgICAgICAgICAvLyBhbmQgYWRkU2libGluZyBjYXBhYmlsaXRpZXMgdG8gYmUgYXZhaWxhYmxlIGFuZCBlbmFibGVkXG4gICAgICAgICAgICBibG9ja0NvbW1hbmRzID0gYmxvY2tHcm91cHMubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksIGdyb3VwID0gX2JbMF0sIGJsb2NrcyA9IF9iWzFdO1xuICAgICAgICAgICAgICAgIHZhciBibG9ja0NvbnRyb2xzID0gYmxvY2tzLm1hcChmdW5jdGlvbiAoYmxvY2tEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEcmFmdGFpbEluc2VydEJsb2NrQ29tbWFuZChfdGhpcywgYmxvY2tEZWYsIGFkZFNpYmxpbmcsIHNwbGl0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogZ3JvdXAgfHwgKDAsIGdldHRleHRfMS5nZXR0ZXh0KSgnQmxvY2tzJyksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyZWFtZmllbGQtXCIuY29uY2F0KGdyb3VwKSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGJsb2NrQ29udHJvbHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc3BsaXQuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGJsb2NrQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20tYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbbmV3IERyYWZ0YWlsU3BsaXRDb21tYW5kKHRoaXMsIHNwbGl0KV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmNvbW1hbmRzID0gX19zcHJlYWRBcnJheShbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICgwLCBnZXR0ZXh0XzEuZ2V0dGV4dCkoJ1JpY2ggdGV4dCcpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdibG9ja1R5cGVzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZW50aXR5VHlwZXMnXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sIF9fcmVhZChibG9ja0NvbW1hbmRzKSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9O1xuICAgIEJvdW5kRHJhZnRhaWxXaWRnZXQucHJvdG90eXBlLmdldEZ1bGxPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHRoaXMuZ2V0Q2FwYWJpbGl0eU9wdGlvbnModGhpcy5jYXBhYmlsaXRpZXMpKTtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZERyYWZ0YWlsV2lkZ2V0O1xufSgpKTtcbnZhciBEcmFmdGFpbFJpY2hUZXh0QXJlYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcmFmdGFpbFJpY2hUZXh0QXJlYShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIERyYWZ0YWlsUmljaFRleHRBcmVhLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBuYW1lLCBpZCwgaW5pdGlhbFN0YXRlLCBwYXJlbnRDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudHlwZSA9ICdoaWRkZW4nO1xuICAgICAgICBpbnB1dC5pZCA9IGlkO1xuICAgICAgICBpbnB1dC5uYW1lID0gbmFtZTtcbiAgICAgICAgLy8gSWYgdGhlIGluaXRpYWxTdGF0ZSBpcyBhbiBFZGl0b3JTdGF0ZSwgcmF0aGVyIHRoYW4gc2VyaWFsaXplZCByYXdDb250ZW50U3RhdGUsIGl0J3NcbiAgICAgICAgLy8gZWFzaWVyIGZvciB1cyB0byBpbml0aWFsaXplIHRoZSB3aWRnZXQgYmxhbmsgYW5kIHRoZW4gc2V0U3RhdGUgdG8gdGhlIGNvcnJlY3Qgc3RhdGVcbiAgICAgICAgdmFyIGluaXRpYWxpc2VCbGFuayA9ICEhaW5pdGlhbFN0YXRlLmdldEN1cnJlbnRDb250ZW50O1xuICAgICAgICBpbnB1dC52YWx1ZSA9IGluaXRpYWxpc2VCbGFuayA/ICdudWxsJyA6IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgdmFyIGJvdW5kRHJhZnRhaWwgPSBuZXcgQm91bmREcmFmdGFpbFdpZGdldChpbnB1dCwgdGhpcy5vcHRpb25zLCBwYXJlbnRDYXBhYmlsaXRpZXMpO1xuICAgICAgICBpZiAoaW5pdGlhbGlzZUJsYW5rKSB7XG4gICAgICAgICAgICBib3VuZERyYWZ0YWlsLnNldFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kRHJhZnRhaWw7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZnRhaWxSaWNoVGV4dEFyZWE7XG59KCkpO1xud2luZG93LnRlbGVwYXRoLnJlZ2lzdGVyKCd3YWd0YWlsLndpZGdldHMuRHJhZnRhaWxSaWNoVGV4dEFyZWEnLCBEcmFmdGFpbFJpY2hUZXh0QXJlYSk7XG52YXIgQmFzZURhdGVUaW1lV2lkZ2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlRGF0ZVRpbWVXaWRnZXQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZURhdGVUaW1lV2lkZ2V0KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQmFzZURhdGVUaW1lV2lkZ2V0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocGxhY2Vob2xkZXIsIG5hbWUsIGlkLCBpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBlbGVtZW50LnR5cGUgPSAndGV4dCc7XG4gICAgICAgIGVsZW1lbnQubmFtZSA9IG5hbWU7XG4gICAgICAgIGVsZW1lbnQuaWQgPSBpZDtcbiAgICAgICAgcGxhY2Vob2xkZXIucmVwbGFjZVdpdGgoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuaW5pdENob29zZXJGbihpZCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgdmFyIHdpZGdldCA9IHtcbiAgICAgICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTdGF0ZTogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IHN0YXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICAgICAgICAgIC8vIGZvY3VzaW5nIG9wZW5zIHRoZSBkYXRlIHBpY2tlciwgc28gZG9uJ3QgZG8gdGhpcyBpZiBpdCdzIGEgJ3NvZnQnIGZvY3VzXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5zb2Z0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkRm9yTGFiZWw6IGlkXG4gICAgICAgIH07XG4gICAgICAgIHdpZGdldC5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICByZXR1cm4gd2lkZ2V0O1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VEYXRlVGltZVdpZGdldDtcbn0oV2lkZ2V0KSk7XG52YXIgQWRtaW5EYXRlSW5wdXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFkbWluRGF0ZUlucHV0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFkbWluRGF0ZUlucHV0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaW5pdENob29zZXJGbiA9IHdpbmRvdy5pbml0RGF0ZUNob29zZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEFkbWluRGF0ZUlucHV0O1xufShCYXNlRGF0ZVRpbWVXaWRnZXQpKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC53aWRnZXRzLkFkbWluRGF0ZUlucHV0JywgQWRtaW5EYXRlSW5wdXQpO1xudmFyIEFkbWluVGltZUlucHV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBZG1pblRpbWVJbnB1dCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBZG1pblRpbWVJbnB1dCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmluaXRDaG9vc2VyRm4gPSB3aW5kb3cuaW5pdFRpbWVDaG9vc2VyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBZG1pblRpbWVJbnB1dDtcbn0oQmFzZURhdGVUaW1lV2lkZ2V0KSk7XG53aW5kb3cudGVsZXBhdGgucmVnaXN0ZXIoJ3dhZ3RhaWwud2lkZ2V0cy5BZG1pblRpbWVJbnB1dCcsIEFkbWluVGltZUlucHV0KTtcbnZhciBBZG1pbkRhdGVUaW1lSW5wdXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFkbWluRGF0ZVRpbWVJbnB1dCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBZG1pbkRhdGVUaW1lSW5wdXQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pbml0Q2hvb3NlckZuID0gd2luZG93LmluaXREYXRlVGltZUNob29zZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEFkbWluRGF0ZVRpbWVJbnB1dDtcbn0oQmFzZURhdGVUaW1lV2lkZ2V0KSk7XG53aW5kb3cudGVsZXBhdGgucmVnaXN0ZXIoJ3dhZ3RhaWwud2lkZ2V0cy5BZG1pbkRhdGVUaW1lSW5wdXQnLCBBZG1pbkRhdGVUaW1lSW5wdXQpO1xudmFyIFZhbGlkYXRpb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IobWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgIH1cbiAgICByZXR1cm4gVmFsaWRhdGlvbkVycm9yO1xufSgpKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC5lcnJvcnMuVmFsaWRhdGlvbkVycm9yJywgVmFsaWRhdGlvbkVycm9yKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./client/src/entrypoints/admin/telepath/widgets.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"telepath/widgets": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = globalThis["webpackChunkwagtail"] = globalThis["webpackChunkwagtail"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["wagtail/admin/static/wagtailadmin/js/vendor"], () => (__webpack_require__("./client/src/entrypoints/admin/telepath/widgets.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;