{% extends "wagtailadmin/base.html" %}
{% load i18n wagtailadmin_tags %}
{% block titletag %}{% blocktrans %}Editing {{ setting_type_name}} - {{ instance }}{% endblocktrans %}{% endblock %}
{% block bodyclass %}menu-settings{% endblock %}
{% block content %}
    <header class="nice-padding {% if tabbed %}merged tab-merged{% endif %}">
        <div class="row">
            <div class="left">
                <div class="col">
                    <h1>
                        {% icon name="cogs" class_name="header-title-icon" %}
                        {% trans "Editing" %}
                        <span>{{ setting_type_name|capfirst }}</span>
                    </h1>
                </div>
            </div>
            <div class="right">
                <ul class="fields row rowflush" style="list-style-type: none;">
                    {% if locale %}
                        <li class="col">
                            <div class="field">
                                {% include 'wagtailadmin/shared/locale_selector.html' with class='c-dropdown--large' %}
                            </div>
                        </li>
                    {% endif %}
                    {% if site %}
                        <li class="col">
                            <div class="field">
                                {% include 'wagtailadmin/shared/site_selector.html' with class='c-dropdown--large' %}
                            </div>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </header>

    <form action="{% url 'wagtailsettings:edit' opts.app_label opts.model_name site.pk %}{% if locale %}?locale={{ locale.language_code }}{% endif %}" method="POST" novalidate{% if form.is_multipart %} enctype="multipart/form-data"{% endif %}>
        {% csrf_token %}
        {{ edit_handler.render_form_content }}

        <footer>
            <ul>
                <li class="actions dropdown dropup match-width">
                    <button type="submit" class="button button-longrunning" data-clicked-text="{% trans 'Savingâ€¦' %}">{% icon name="spinner" %}<em>{% trans 'Save' %}</em></button>
                </li>
            </ul>
        </footer>
    </form>

{% endblock %}

{% block extra_css %}
    {{ block.super }}
    {% include "wagtailadmin/pages/_editor_css.html" %}
    {{ edit_handler.form.media.css }}
    {{ site_switcher.media.css }}
{% endblock %}
{% block extra_js %}
    {{ block.super }}
    {% include "wagtailadmin/pages/_editor_js.html" %}
    {{ edit_handler.form.media.js }}
    {{ edit_handler.html_declarations }}
    {{ site_switcher.media.js }}
{% endblock %}
