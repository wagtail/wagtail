{% extends "wagtailadmin/generic/chooser/chooser.html" %}
{% load i18n wagtailadmin_tags %}

{% block filter_form %}
    <form data-chooser-modal-search action="{{ results_url }}" method="GET" autocomplete="off" novalidate>
        <ul class="fields">
            {% for field in filter_form %}
                <li>{% formattedfield field %}</li>
            {% endfor %}
            {% if popular_tags %}
                <li class="taglist w-label-3">
                    <h3>{% trans 'Popular tags' %}</h3>
                    {% for tag in popular_tags %}
                        <a class="suggested-tag tag" href="{% url 'wagtailimages:index' %}?tag={{ tag.name|urlencode }}">{{ tag.name }}</a>
                    {% endfor %}
                </li>
            {% endif %}
        </ul>
        <div id="layout-toggle-button">
            <label class="w-slim-header-action-button w-layout-toggle-button">
                {% if layout == "list" %}
                    {% icon name="grid" %}
                {% else %}
                    {% icon name="list-ul" %}
                {% endif %}
                <input type="checkbox" aria-label="{% translate 'Toggle layout' %}" name="layout" value="list" {% if layout == "list" %}checked{% endif %} data-controller="w-tooltip" data-w-tooltip-content-value="{% translate 'Toggle layout' %}" data-chooser-modal-search-filter>
            </label>
        </div>
    </form>

{% endblock %}
