// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`telepath: wagtail.blocks.StructBlock in stream block using a custom formLayout with settings 1`] = `
"<div class="c-sf-help">
          <div class="help">
            use <strong>plenty</strong> of these
          </div>
        </div><div class="">
        <input type="hidden" name="the-prefix-count" data-streamfield-stream-count="" value="1">
        <div data-streamfield-stream-container=""><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div><div data-streamfield-child="" data-contentpath="struct-block-1">
        <input type="hidden" name="the-prefix-0-deleted" value="">
        <input type="hidden" name="the-prefix-0-order" value="0">
        <input type="hidden" name="the-prefix-0-type" value="struct_block">
        <input type="hidden" name="the-prefix-0-id" value="struct-block-1">
        <section class="w-panel w-panel--nested" id="block-struct-block-1-section" aria-labelledby="block-struct-block-1-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block-struct-block-1-section" aria-labelledby="block-struct-block-1-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block-struct-block-1-heading" data-panel-toggle="" aria-controls="block-struct-block-1-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block-struct-block-1-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-0-value-inner_stream-0-value</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block-struct-block-1-section" aria-labelledby="block-struct-block-1-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-the-prefix-0-value-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-0-value-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_UP" title="Move up" disabled="disabled">
        <svg class="icon icon-arrow-up" aria-hidden="true">
          <use href="#icon-arrow-up"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_DOWN" title="Move down" disabled="disabled">
        <svg class="icon icon-arrow-down" aria-hidden="true">
          <use href="#icon-arrow-down"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DRAG" title="Drag">
        <svg class="icon icon-grip" aria-hidden="true">
          <use href="#icon-grip"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DUPLICATE" title="Duplicate">
        <svg class="icon icon-copy" aria-hidden="true">
          <use href="#icon-copy"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DELETE" title="Delete">
        <svg class="icon icon-bin" aria-hidden="true">
          <use href="#icon-bin"></use>
        </svg>
      </button></div>
          </div>
          <div id="block-struct-block-1-content" class="w-panel__content">
            <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div id="block_group-the-prefix-0-value-settings" data-block-settings="" hidden="">
          <div data-contentpath="test_block_b">
        <label class="w-field__label" for="the-prefix-0-value-test_block_b">Test Block B</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="" data-field="">
          <div class="w-field__errors" id="the-prefix-0-value-test_block_b-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-0-value-test_block_b-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-0-value-test_block_b" id="the-prefix-0-value-test_block_b">Block A Widget</p>
          </div>
        </div>
      </div>
      </div></div><div data-contentpath="inner_stream">
        <label class="w-field__label">Inner Stream</label>
        <div class="">
        <input type="hidden" name="the-prefix-0-value-inner_stream-count" data-streamfield-stream-count="" value="1">
        <div data-streamfield-stream-container=""><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div><div data-streamfield-child="" data-contentpath="very-nested-1">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-deleted" value="">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-order" value="0">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-type" value="test_block_a">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-id" value="very-nested-1">
        <section class="w-panel w-panel--nested" id="block-very-nested-1-section" aria-labelledby="block-very-nested-1-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block-very-nested-1-section" aria-labelledby="block-very-nested-1-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block-very-nested-1-heading" data-panel-toggle="" aria-controls="block-very-nested-1-content" aria-expanded="true">
              <svg class="icon icon-pilcrow w-panel__icon" aria-hidden="true">
                <use href="#icon-pilcrow"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block-very-nested-1-heading" data-panel-heading="">
              <span class="c-sf-block__type">Test Block A</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-0-value-inner_stream-0-value</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block-very-nested-1-section" aria-labelledby="block-very-nested-1-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_UP" title="Move up" disabled="disabled">
        <svg class="icon icon-arrow-up" aria-hidden="true">
          <use href="#icon-arrow-up"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_DOWN" title="Move down" disabled="disabled">
        <svg class="icon icon-arrow-down" aria-hidden="true">
          <use href="#icon-arrow-down"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DRAG" title="Drag">
        <svg class="icon icon-grip" aria-hidden="true">
          <use href="#icon-grip"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DUPLICATE" title="Duplicate">
        <svg class="icon icon-copy" aria-hidden="true">
          <use href="#icon-copy"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DELETE" title="Delete">
        <svg class="icon icon-bin" aria-hidden="true">
          <use href="#icon-bin"></use>
        </svg>
      </button></div>
          </div>
          <div id="block-very-nested-1-content" class="w-panel__content">
            <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--admin_auto_height_text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-0-value-inner_stream-0-value-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-0-value-inner_stream-0-value-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-0-value-inner_stream-0-value" id="the-prefix-0-value-inner_stream-0-value">Block A Widget</p>
          </div>
        </div>
      </div>
          </div>
        </section>
      </div><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div></div>
      </div>
      </div></div>
          </div>
        </section>
      </div><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div></div>
      </div>"
`;

exports[`telepath: wagtail.blocks.StructBlock it renders correctly 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block" data-controller="w-customstruct" data-action="click->w-customstruct#doAnotherThing">
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="" data-controller="w-custom" data-action="click->w-custom#doSomething">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="" data-controller="w-other" data-action="click->w-other#doSomethingElse">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock setError passes error messages to children 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block" data-controller="w-customstruct" data-action="click->w-customstruct#doAnotherThing">
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="" data-controller="w-custom" data-action="click->w-custom#doSomething">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select w-field--error" data-field="" data-controller="w-other" data-action="click->w-other#doSomethingElse">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true"><use href="#icon-warning"></use></svg>
          <p class="error-message">This is too big.</p></div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock setError shows non-block errors 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block" data-controller="w-customstruct" data-action="click->w-customstruct#doAnotherThing"><p class="help-block help-critical">This is just generally wrong.</p>
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="" data-controller="w-custom" data-action="click->w-custom#doSomething">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="" data-controller="w-other" data-action="click->w-other#doSomethingElse">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with collapsible panel it renders correctly with initially collapsed state 1`] = `
"<section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with collapsible panel it renders correctly with initially collapsed state 2`] = `
"<section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with collapsible panel it renders correctly with initially expanded state 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with collapsible panel it renders correctly with initially expanded state 2`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with collapsible panel setError passes error messages to children 1`] = `
"<section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select w-field--error" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true"><use href="#icon-warning"></use></svg>
          <p class="error-message">This is too big.</p></div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with collapsible panel setError shows non-block errors 1`] = `
"<section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content" hidden="">
            
          <div class="struct-block"><p class="help-block help-critical">This is just generally wrong.</p>
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formLayout it expands any level of nested panels to reveal errors 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Hero</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="true" aria-controls="block_group-the-prefix-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div id="block_group-the-prefix-settings" data-block-settings="">
          <section class="w-panel w-panel--nested collapsed" id="block_group-block_group-the-prefix-theme-section" aria-labelledby="block_group-block_group-the-prefix-theme-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-block_group-the-prefix-theme-section" aria-labelledby="block_group-block_group-the-prefix-theme-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-block_group-the-prefix-theme-heading" data-panel-toggle="" aria-controls="block_group-block_group-the-prefix-theme-content" aria-expanded="true">
              <svg class="icon icon-cogs w-panel__icon" aria-hidden="true">
                <use href="#icon-cogs"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-block_group-the-prefix-theme-heading" data-panel-heading="">
              <span class="c-sf-block__type">Theme</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-block_group-the-prefix-theme-section" aria-labelledby="block_group-block_group-the-prefix-theme-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="true" aria-controls="block_group-block_group-the-prefix-theme-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-block_group-the-prefix-theme-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-block_group-the-prefix-theme-content" class="w-panel__content">
            
          <div class="theme-group collapsed">
        <div id="block_group-block_group-the-prefix-theme-settings" data-block-settings="">
          <div data-contentpath="shown">
        <label class="w-field__label" for="the-prefix-shown">Shown</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--boolean_field w-field--checkbox_input w-field--error" data-field="">
          <div class="w-field__errors" id="the-prefix-shown-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true"><use href="#icon-warning"></use></svg>
          <p class="error-message">This must be checked.</p></div>
          <div class="w-field__help" id="the-prefix-shown-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-shown" id="the-prefix-shown">Shown widget</p>
          </div>
        </div>
      </div>
      </div></div><div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section></div><section class="w-panel w-panel--nested collapsed" id="block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-block_group-the-prefix-main_content-heading" data-panel-toggle="" aria-controls="block_group-block_group-the-prefix-main_content-content" aria-expanded="true">
              <svg class="icon icon-doc-full w-panel__icon" aria-hidden="true">
                <use href="#icon-doc-full"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-block_group-the-prefix-main_content-heading" data-panel-heading="">
              <span class="c-sf-block__type">Main content</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-block_group-the-prefix-main_content-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-block_group-the-prefix-main_content-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-block_group-the-prefix-main_content-content" class="w-panel__content">
            
          <div class="main-content collapsed">
        <div id="block_group-block_group-the-prefix-main_content-settings" data-block-settings="" hidden="">
          <div data-contentpath="url">
        <label class="w-field__label" for="the-prefix-url">Link<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--url_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-url-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-url-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-url" id="the-prefix-url">Link</p>
          </div>
        </div>
      </div>
      </div></div><div data-contentpath="text">
        <label class="w-field__label" for="the-prefix-text">Text content<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input w-field--error" data-field="">
          <div class="w-field__errors" id="the-prefix-text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true"><use href="#icon-warning"></use></svg>
          <p class="error-message">This is not long enough.</p></div>
          <div class="w-field__help" id="the-prefix-text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-text" id="the-prefix-text">Text content</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section><div data-contentpath="captioned_image">
        
        <section class="w-panel w-panel--nested" id="block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-captioned_image-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-captioned_image-content" aria-expanded="true">
              <svg class="icon icon-image w-panel__icon" aria-hidden="true">
                <use href="#icon-image"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-captioned_image-heading" data-panel-heading="">
              <span class="c-sf-block__type">Captioned image</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-captioned_image-image</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-captioned_image-content" class="w-panel__content">
            
          <div class="captioned-image-block">
        
        <div class="c-sf-help">
          <div class="help">
            image with a required <strong>caption</strong>
          </div>
        </div>
      <div data-contentpath="image">
        <label class="w-field__label" for="the-prefix-captioned_image-image">Image<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--model_choice_field w-field--admin_image_chooser" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-image-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-image-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-image" id="the-prefix-captioned_image-image">Image widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="caption">
        <label class="w-field__label" for="the-prefix-captioned_image-caption">Caption<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-caption-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-caption-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-caption" id="the-prefix-captioned_image-caption">Caption widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formLayout it expands the parent group when the settings panel is expanded 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Hero</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-the-prefix-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div id="block_group-the-prefix-settings" data-block-settings="" hidden="">
          <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="shown">
        <label class="w-field__label" for="the-prefix-shown">Shown</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field="">
          <div class="w-field__errors" id="the-prefix-shown-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-shown-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-shown" id="the-prefix-shown">Shown widget</p>
          </div>
        </div>
      </div>
      </div></div><section class="w-panel w-panel--nested" id="block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-block_group-the-prefix-main_content-heading" data-panel-toggle="" aria-controls="block_group-block_group-the-prefix-main_content-content" aria-expanded="true">
              <svg class="icon icon-doc-full w-panel__icon" aria-hidden="true">
                <use href="#icon-doc-full"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-block_group-the-prefix-main_content-heading" data-panel-heading="">
              <span class="c-sf-block__type">Main content</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-block_group-the-prefix-main_content-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-block_group-the-prefix-main_content-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-block_group-the-prefix-main_content-content" class="w-panel__content">
            
          <div class="">
        <div id="block_group-block_group-the-prefix-main_content-settings" data-block-settings="" hidden="">
          <div data-contentpath="url">
        <label class="w-field__label" for="the-prefix-url">Link<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--url_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-url-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-url-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-url" id="the-prefix-url">Link</p>
          </div>
        </div>
      </div>
      </div></div><div data-contentpath="text">
        <label class="w-field__label" for="the-prefix-text">Text content<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-text" id="the-prefix-text">Text content</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section><div data-contentpath="captioned_image">
        
        <section class="w-panel w-panel--nested" id="block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-captioned_image-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-captioned_image-content" aria-expanded="true">
              <svg class="icon icon-image w-panel__icon" aria-hidden="true">
                <use href="#icon-image"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-captioned_image-heading" data-panel-heading="">
              <span class="c-sf-block__type">Captioned image</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-captioned_image-image</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-captioned_image-content" class="w-panel__content">
            
          <div class="captioned-image-block">
        
        <div class="c-sf-help">
          <div class="help">
            image with a required <strong>caption</strong>
          </div>
        </div>
      <div data-contentpath="image">
        <label class="w-field__label" for="the-prefix-captioned_image-image">Image<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--model_choice_field w-field--admin_image_chooser" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-image-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-image-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-image" id="the-prefix-captioned_image-image">Image widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="caption">
        <label class="w-field__label" for="the-prefix-captioned_image-caption">Caption<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-caption-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-caption-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-caption" id="the-prefix-captioned_image-caption">Caption widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formLayout it renders correctly with flat children and settings 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Hero</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-the-prefix-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div id="block_group-the-prefix-settings" data-block-settings="" hidden="">
          <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="shown">
        <label class="w-field__label" for="the-prefix-shown">Shown</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field="">
          <div class="w-field__errors" id="the-prefix-shown-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-shown-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-shown" id="the-prefix-shown">Shown widget</p>
          </div>
        </div>
      </div>
      </div></div><div data-contentpath="text">
        <label class="w-field__label" for="the-prefix-text">Text content<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-text" id="the-prefix-text">Text content</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="url">
        <label class="w-field__label" for="the-prefix-url">Link<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--url_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-url-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-url-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-url" id="the-prefix-url">Link</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="captioned_image">
        
        <section class="w-panel w-panel--nested" id="block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-captioned_image-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-captioned_image-content" aria-expanded="true">
              <svg class="icon icon-image w-panel__icon" aria-hidden="true">
                <use href="#icon-image"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-captioned_image-heading" data-panel-heading="">
              <span class="c-sf-block__type">Captioned image</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-captioned_image-image</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-captioned_image-content" class="w-panel__content">
            
          <div class="captioned-image-block">
        
        <div class="c-sf-help">
          <div class="help">
            image with a required <strong>caption</strong>
          </div>
        </div>
      <div data-contentpath="image">
        <label class="w-field__label" for="the-prefix-captioned_image-image">Image<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--model_choice_field w-field--admin_image_chooser" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-image-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-image-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-image" id="the-prefix-captioned_image-image">Image widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="caption">
        <label class="w-field__label" for="the-prefix-captioned_image-caption">Caption<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-caption-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-caption-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-caption" id="the-prefix-captioned_image-caption">Caption widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formLayout it renders correctly with nested children and settings 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Hero</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-the-prefix-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div id="block_group-the-prefix-settings" data-block-settings="" hidden="">
          <section class="w-panel w-panel--nested collapsed" id="block_group-block_group-the-prefix-theme-section" aria-labelledby="block_group-block_group-the-prefix-theme-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-block_group-the-prefix-theme-section" aria-labelledby="block_group-block_group-the-prefix-theme-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-block_group-the-prefix-theme-heading" data-panel-toggle="" aria-controls="block_group-block_group-the-prefix-theme-content" aria-expanded="false">
              <svg class="icon icon-cogs w-panel__icon" aria-hidden="true">
                <use href="#icon-cogs"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-block_group-the-prefix-theme-heading" data-panel-heading="">
              <span class="c-sf-block__type">Theme</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">Color: label: the-prefix-accent_color, Size: label: the-prefix-font_size</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-block_group-the-prefix-theme-section" aria-labelledby="block_group-block_group-the-prefix-theme-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-block_group-the-prefix-theme-content" class="w-panel__content" hidden="">
            
          <div class="theme-group collapsed">
        <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section><div data-contentpath="shown">
        <label class="w-field__label" for="the-prefix-shown">Shown</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field="">
          <div class="w-field__errors" id="the-prefix-shown-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-shown-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-shown" id="the-prefix-shown">Shown widget</p>
          </div>
        </div>
      </div>
      </div></div><section class="w-panel w-panel--nested" id="block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-block_group-the-prefix-main_content-heading" data-panel-toggle="" aria-controls="block_group-block_group-the-prefix-main_content-content" aria-expanded="true">
              <svg class="icon icon-doc-full w-panel__icon" aria-hidden="true">
                <use href="#icon-doc-full"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-block_group-the-prefix-main_content-heading" data-panel-heading="">
              <span class="c-sf-block__type">Main content</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-block_group-the-prefix-main_content-section" aria-labelledby="block_group-block_group-the-prefix-main_content-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-block_group-the-prefix-main_content-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-block_group-the-prefix-main_content-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-block_group-the-prefix-main_content-content" class="w-panel__content">
            
          <div class="main-content" data-example="value">
        
        <div class="c-sf-help">
          <div class="help">
            This is the <strong>main content</strong> area.
          </div>
        </div>
      <div id="block_group-block_group-the-prefix-main_content-settings" data-block-settings="" hidden="">
          <div data-contentpath="url">
        <label class="w-field__label" for="the-prefix-url">Link<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--url_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-url-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-url-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-url" id="the-prefix-url">Link</p>
          </div>
        </div>
      </div>
      </div></div><div data-contentpath="text">
        <label class="w-field__label" for="the-prefix-text">Text content<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-text" id="the-prefix-text">Text content</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section><div data-contentpath="captioned_image">
        
        <section class="w-panel w-panel--nested" id="block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-captioned_image-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-captioned_image-content" aria-expanded="true">
              <svg class="icon icon-image w-panel__icon" aria-hidden="true">
                <use href="#icon-image"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-captioned_image-heading" data-panel-heading="">
              <span class="c-sf-block__type">Captioned image</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-captioned_image-image</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-captioned_image-content" class="w-panel__content">
            
          <div class="captioned-image-block">
        
        <div class="c-sf-help">
          <div class="help">
            image with a required <strong>caption</strong>
          </div>
        </div>
      <div data-contentpath="image">
        <label class="w-field__label" for="the-prefix-captioned_image-image">Image<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--model_choice_field w-field--admin_image_chooser" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-image-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-image-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-image" id="the-prefix-captioned_image-image">Image widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="caption">
        <label class="w-field__label" for="the-prefix-captioned_image-caption">Caption<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-caption-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-caption-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-caption" id="the-prefix-captioned_image-caption">Caption widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formLayout it supports custom formTemplate 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Hero</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-url</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-the-prefix-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="custom-form-template">
            <!--
              If the template iterates the child blocks using the 'children'
              context variable, it will follow the form_layout ordering.
              However, it's ultimately up to the template to decide the ordering
              of the child blocks, which can be different to form_layout e.g.
              when [data-structblock-child] is hardcoded in the template like this:
            -->
            <p>here comes the first field:</p>
            <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-text" id="the-prefix-text">Text content</p>
          </div>
        </div>
      </div>
            <p>and here is a nested StructBlock that also has formTemplate and settings:</p>
            <section class="w-panel w-panel--nested" id="block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-captioned_image-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-captioned_image-content" aria-expanded="true">
              <svg class="icon icon-image w-panel__icon" aria-hidden="true">
                <use href="#icon-image"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-captioned_image-heading" data-panel-heading="">
              <span class="c-sf-block__type">Captioned image</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-captioned_image-image</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-captioned_image-section" aria-labelledby="block_group-the-prefix-captioned_image-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="SETTINGS" title="Settings" aria-expanded="false" aria-controls="block_group-the-prefix-captioned_image-settings">
        <svg class="icon icon-cog" aria-hidden="true">
          <use href="#icon-cog"></use>
        </svg>
      
      <div class="w-badge w-badge--critical w-hidden" data-controller="w-count" data-w-count-active-class="!w-flex" data-w-count-container-value="#block_group-the-prefix-captioned_image-settings">
        <span aria-hidden="true" data-w-count-target="total"></span>
        <span class="w-sr-only">(<span data-w-count-target="label"></span>)</span>
      </div>
    </button></div>
          </div>
          <div id="block_group-the-prefix-captioned_image-content" class="w-panel__content">
            
          <div class="custom-child-structblock-form-template">
            <p>here comes the only block:</p>
            <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--model_choice_field w-field--admin_image_chooser" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-image-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-image-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-image" id="the-prefix-captioned_image-image">Image widget</p>
          </div>
        </div>
      </div>

            <div data-block-settings="" id="block_group-the-prefix-captioned_image-settings" hidden="hidden">
              <h3>Captioned image settings</h3>
              <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-captioned_image-caption-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-captioned_image-caption-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-captioned_image-caption" id="the-prefix-captioned_image-caption">Caption widget</p>
          </div>
        </div>
      </div>
            </div>
          </div></div>
        </section>
            <p>and here is another field block:</p>
            <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--url_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-url-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-url-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-url" id="the-prefix-url">Link</p>
          </div>
        </div>
      </div>

            <!--
              Must have an element with data-block-settings for toggling visibility,
              it can be placed anywhere in the template as long as it's not inside
              any data-structblock-child element.
            -->
            <div data-block-settings="" id="block_group-the-prefix-settings" hidden="hidden">
              <h3>Settings</h3>
              <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-accent_color" id="the-prefix-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
              <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-font_size" id="the-prefix-font_size">Font size widget</p>
          </div>
        </div>
      </div>
              <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field="">
          <div class="w-field__errors" id="the-prefix-shown-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-shown-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-shown" id="the-prefix-shown">Shown widget</p>
          </div>
        </div>
      </div>
            </div>
          </div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formTemplate in stream block it renders correctly 1`] = `
"<div class="c-sf-help">
          <div class="help">
            use <strong>plenty</strong> of these
          </div>
        </div><div class="">
        <input type="hidden" name="the-prefix-count" data-streamfield-stream-count="" value="1">
        <div data-streamfield-stream-container=""><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div><div data-streamfield-child="" data-contentpath="struct-block-1">
        <input type="hidden" name="the-prefix-0-deleted" value="">
        <input type="hidden" name="the-prefix-0-order" value="0">
        <input type="hidden" name="the-prefix-0-type" value="struct_block">
        <input type="hidden" name="the-prefix-0-id" value="struct-block-1">
        <section class="w-panel w-panel--nested" id="block-struct-block-1-section" aria-labelledby="block-struct-block-1-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block-struct-block-1-section" aria-labelledby="block-struct-block-1-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block-struct-block-1-heading" data-panel-toggle="" aria-controls="block-struct-block-1-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block-struct-block-1-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-0-value-inner_stream-0-value</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block-struct-block-1-section" aria-labelledby="block-struct-block-1-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_UP" title="Move up" disabled="disabled">
        <svg class="icon icon-arrow-up" aria-hidden="true">
          <use href="#icon-arrow-up"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_DOWN" title="Move down" disabled="disabled">
        <svg class="icon icon-arrow-down" aria-hidden="true">
          <use href="#icon-arrow-down"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DRAG" title="Drag">
        <svg class="icon icon-grip" aria-hidden="true">
          <use href="#icon-grip"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DUPLICATE" title="Duplicate">
        <svg class="icon icon-copy" aria-hidden="true">
          <use href="#icon-copy"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DELETE" title="Delete">
        <svg class="icon icon-bin" aria-hidden="true">
          <use href="#icon-bin"></use>
        </svg>
      </button></div>
          </div>
          <div id="block-struct-block-1-content" class="w-panel__content">
            <div class="custom-form-template">
          <p>here comes the first field:</p>
          <div class="">
        <input type="hidden" name="the-prefix-0-value-inner_stream-count" data-streamfield-stream-count="" value="1">
        <div data-streamfield-stream-container=""><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div><div data-streamfield-child="" data-contentpath="very-nested-1">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-deleted" value="">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-order" value="0">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-type" value="test_block_a">
        <input type="hidden" name="the-prefix-0-value-inner_stream-0-id" value="very-nested-1">
        <section class="w-panel w-panel--nested" id="block-very-nested-1-section" aria-labelledby="block-very-nested-1-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block-very-nested-1-section" aria-labelledby="block-very-nested-1-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block-very-nested-1-heading" data-panel-toggle="" aria-controls="block-very-nested-1-content" aria-expanded="true">
              <svg class="icon icon-pilcrow w-panel__icon" aria-hidden="true">
                <use href="#icon-pilcrow"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block-very-nested-1-heading" data-panel-heading="">
              <span class="c-sf-block__type">Test Block A</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-0-value-inner_stream-0-value</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block-very-nested-1-section" aria-labelledby="block-very-nested-1-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_UP" title="Move up" disabled="disabled">
        <svg class="icon icon-arrow-up" aria-hidden="true">
          <use href="#icon-arrow-up"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="MOVE_DOWN" title="Move down" disabled="disabled">
        <svg class="icon icon-arrow-down" aria-hidden="true">
          <use href="#icon-arrow-down"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DRAG" title="Drag">
        <svg class="icon icon-grip" aria-hidden="true">
          <use href="#icon-grip"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DUPLICATE" title="Duplicate">
        <svg class="icon icon-copy" aria-hidden="true">
          <use href="#icon-copy"></use>
        </svg>
      </button><button type="button" class="button button--icon text-replace white" data-streamfield-action="DELETE" title="Delete">
        <svg class="icon icon-bin" aria-hidden="true">
          <use href="#icon-bin"></use>
        </svg>
      </button></div>
          </div>
          <div id="block-very-nested-1-content" class="w-panel__content">
            <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--admin_auto_height_text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-0-value-inner_stream-0-value-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-0-value-inner_stream-0-value-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-0-value-inner_stream-0-value" id="the-prefix-0-value-inner_stream-0-value">Block A Widget</p>
          </div>
        </div>
      </div>
          </div>
        </section>
      </div><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div></div>
      </div>
          <p>and here is the second:</p>
          <div class="w-field__wrapper" data-field-wrapper="">
        <div class="" data-field="">
          <div class="w-field__errors" id="the-prefix-0-value-test_block_b-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-0-value-test_block_b-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-0-value-test_block_b" id="the-prefix-0-value-test_block_b">Block A Widget</p>
          </div>
        </div>
      </div>
        </div>
          </div>
        </section>
      </div><div>
        <button type="button" title="Insert a block" class="c-sf-add-button">
          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>
        </button>
      </div></div>
      </div>"
`;

exports[`telepath: wagtail.blocks.StructBlock with formTemplate it renders correctly 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text - label: the-prefix-size</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="custom-form-template">
        <p>here comes the first field:</p>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
        <p>and here is the second:</p>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with nested collapsible panel it renders correctly 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="settings">
        
        <section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-settings-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-settings-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-settings-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-settings-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-settings-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-settings-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-accent_color" id="the-prefix-settings-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-settings-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-font_size" id="the-prefix-settings-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with nested collapsible panel it renders correctly 2`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="settings">
        
        <section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-settings-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-settings-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-settings-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-settings-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-settings-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-settings-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-accent_color" id="the-prefix-settings-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-settings-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-font_size" id="the-prefix-settings-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with nested collapsible panel setError passes error messages to children 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select w-field--error" data-field="">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true"><use href="#icon-warning"></use></svg>
          <p class="error-message">This is too big.</p></div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="settings">
        
        <section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-settings-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-settings-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-settings-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-settings-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-settings-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-settings-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-accent_color" id="the-prefix-settings-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-settings-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-font_size" id="the-prefix-settings-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;

exports[`telepath: wagtail.blocks.StructBlock with nested collapsible panel setError shows non-block errors 1`] = `
"<section class="w-panel w-panel--nested" id="block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-content" aria-expanded="true">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-heading" data-panel-heading="">
              <span class="c-sf-block__type">Heading block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-heading_text</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-section" aria-labelledby="block_group-the-prefix-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-content" class="w-panel__content">
            
          <div class="struct-block"><p class="help-block help-critical">This is just generally wrong.</p>
        
        <div class="c-sf-help">
          <div class="help">
            use <strong>lots</strong> of these
          </div>
        </div>
      <div data-contentpath="heading_text">
        <label class="w-field__label" for="the-prefix-heading_text">Heading text<span class="w-required-mark">*</span></label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-heading_text-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-heading_text-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-heading_text" id="the-prefix-heading_text">Heading widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="size">
        <label class="w-field__label" for="the-prefix-size">Size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-size" id="the-prefix-size">Size widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="settings">
        
        <section class="w-panel w-panel--nested collapsed" id="block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel="">
          <div class="w-panel__header">
            <a class="w-panel__anchor w-panel__anchor--prefix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading" data-panel-anchor="">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <button class="w-panel__toggle" type="button" aria-label="Toggle section" aria-describedby="block_group-the-prefix-settings-heading" data-panel-toggle="" aria-controls="block_group-the-prefix-settings-content" aria-expanded="false">
              <svg class="icon icon-title w-panel__icon" aria-hidden="true">
                <use href="#icon-title"></use>
              </svg>
            </button>
            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="block_group-the-prefix-settings-heading" data-panel-heading="">
              <span class="c-sf-block__type">Settings block</span>
              
              <span data-panel-heading-text="" class="c-sf-block__title">label: the-prefix-settings-accent_color</span>
            </h2>
            <a class="w-panel__anchor w-panel__anchor--suffix" href="#block_group-the-prefix-settings-section" aria-labelledby="block_group-the-prefix-settings-heading">
              <svg class="icon icon-link w-panel__icon" aria-hidden="true">
                <use href="#icon-link"></use>
              </svg>
            </a>
            <div class="w-panel__divider"></div>
            <div class="w-panel__controls" data-panel-controls=""></div>
          </div>
          <div id="block_group-the-prefix-settings-content" class="w-panel__content" hidden="">
            
          <div class="struct-block">
        
        <div class="c-sf-help">
          <div class="help">
            configure how the block is <strong>displayed</strong>
          </div>
        </div>
      <div data-contentpath="accent_color">
        <label class="w-field__label" for="the-prefix-settings-accent_color">Accent color</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--char_field w-field--text_input" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-accent_color-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-accent_color-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-accent_color" id="the-prefix-settings-accent_color">Accent color widget</p>
          </div>
        </div>
      </div>
      </div><div data-contentpath="font_size">
        <label class="w-field__label" for="the-prefix-settings-font_size">Font size</label>
        <div class="w-field__wrapper" data-field-wrapper="">
        <div class="w-field w-field--choice_field w-field--select" data-field="">
          <div class="w-field__errors" id="the-prefix-settings-font_size-errors" data-field-errors="">
            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden=""><use href="#icon-warning"></use></svg>
          </div>
          <div class="w-field__help" id="the-prefix-settings-font_size-helptext" data-field-help=""></div>
          <div class="w-field__input" data-field-input="">
            <p name="the-prefix-settings-font_size" id="the-prefix-settings-font_size">Font size widget</p>
          </div>
        </div>
      </div>
      </div></div></div>
        </section>
      </div></div></div>
        </section>"
`;
