{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended", ":gitSignOff"],
  "enabledManagers": ["poetry"],
  "rangeStrategy": "widen",
  "prConcurrentLimit": 2,
  "dependencyDashboard": true,
  "schedule": ["on the first day of the month"],

  "packageRules": [
    {
      "description": "Group minor/patch updates for core production dependencies",
      "matchDepTypes": ["dependencies"],
      "matchUpdateTypes": ["minor", "patch"],
      "groupName": "core-dependencies-minor-patch",
      "labels": ["dependencies", "automated"],
      "automerge": true,
      "automergeType": "branch"
    },
    {
      "description": "Group minor/patch updates for optional dependencies (testing/docs)",
      "matchDepTypes": ["devDependencies", "optionalDependencies"],
      "matchUpdateTypes": ["minor", "patch"],
      "groupName": "optional-dependencies-minor-patch",
      "labels": ["dev-dependencies", "automated"],
      "automerge": true,
      "automergeType": "branch"
    },
    {
      "description": "Handle major updates separately",
      "matchUpdateTypes": ["major"],
      "labels": ["breaking-change", "automated"],
      "automerge": false,
      "separateMajorIssue": true
    }
  ]
}
